<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>python100例</title>
    <url>/2020/06/22/python100%E4%BE%8B/</url>
    <content><![CDATA[<h2 id="朴实无华，Python-100-例"><a href="#朴实无华，Python-100-例" class="headerlink" title="朴实无华，Python 100 例"></a>朴实无华，Python 100 例</h2><h3 id="一、-Python-基础-62-例"><a href="#一、-Python-基础-62-例" class="headerlink" title="一、  Python 基础 62 例"></a>一、  Python 基础 62 例</h3><h4 id="1-十转二"><a href="#1-十转二" class="headerlink" title="1  十转二"></a>1  十转二</h4><p>将十进制转换为二进制：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>bin(<span class="number">10</span>)</span><br><span class="line"><span class="string">'0b1010'</span></span><br></pre></td></tr></table></figure>

<h4 id="2-十转八"><a href="#2-十转八" class="headerlink" title="2 十转八"></a>2 十转八</h4><p>十进制转换为八进制：<a id="more"></a></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>oct(<span class="number">9</span>)</span><br><span class="line"><span class="string">'0o11'</span></span><br></pre></td></tr></table></figure>

<h4 id="3-十转十六"><a href="#3-十转十六" class="headerlink" title="3 十转十六"></a>3 十转十六</h4><p>十进制转换为十六进制：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>hex(<span class="number">15</span>)</span><br><span class="line"><span class="string">'0xf'</span></span><br></pre></td></tr></table></figure>

<h4 id="4-字符串转字节"><a href="#4-字符串转字节" class="headerlink" title="4  字符串转字节"></a>4  字符串转字节</h4><p>字符串转换为字节类型</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>s = <span class="string">"apple"</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>bytes(s,encoding=<span class="string">'utf-8'</span>)</span><br><span class="line"><span class="string">b'apple'</span></span><br></pre></td></tr></table></figure>

<h4 id="5-转为字符串"><a href="#5-转为字符串" class="headerlink" title="5 转为字符串"></a>5 转为字符串</h4><p>字符类型、数值型等转换为字符串类型</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>i = <span class="number">100</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>str(i)</span><br><span class="line"><span class="string">'100'</span></span><br></pre></td></tr></table></figure>

<h4 id="6-十转ASCII"><a href="#6-十转ASCII" class="headerlink" title="6 十转ASCII"></a>6 十转ASCII</h4><p>十进制整数对应的 ASCII 字符</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>chr(<span class="number">65</span>)</span><br><span class="line"><span class="string">'A'</span></span><br></pre></td></tr></table></figure>

<h4 id="7-ASCII转十"><a href="#7-ASCII转十" class="headerlink" title="7 ASCII转十"></a>7 ASCII转十</h4><p>ASCII字符对应的十进制数</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>ord(<span class="string">'A'</span>)</span><br><span class="line"><span class="number">65</span></span><br></pre></td></tr></table></figure>

<h4 id="8-转为字典"><a href="#8-转为字典" class="headerlink" title="8 转为字典"></a>8 转为字典</h4><p>创建数据字典的几种方法</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>dict()</span><br><span class="line">&#123;&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>dict(a=<span class="string">'a'</span>,b=<span class="string">'b'</span>)</span><br><span class="line">&#123;<span class="string">'a'</span>: <span class="string">'a'</span>, <span class="string">'b'</span>: <span class="string">'b'</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>dict(zip([<span class="string">'a'</span>,<span class="string">'b'</span>],[<span class="number">1</span>,<span class="number">2</span>]))</span><br><span class="line">&#123;<span class="string">'a'</span>: <span class="number">1</span>, <span class="string">'b'</span>: <span class="number">2</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>dict([(<span class="string">'a'</span>,<span class="number">1</span>),(<span class="string">'b'</span>,<span class="number">2</span>)])</span><br><span class="line">&#123;<span class="string">'a'</span>: <span class="number">1</span>, <span class="string">'b'</span>: <span class="number">2</span>&#125;</span><br></pre></td></tr></table></figure>

<h4 id="9-转为浮点类型"><a href="#9-转为浮点类型" class="headerlink" title="9 转为浮点类型"></a>9 转为浮点类型</h4><p>整数或数值型字符串转换为浮点数</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>float(<span class="number">3</span>)</span><br><span class="line"><span class="number">3.0</span></span><br></pre></td></tr></table></figure>

<p>如果不能转化为浮点数，则会报<code>ValueError</code>:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>float(<span class="string">'a'</span>)</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">"&lt;pyshell#7&gt;"</span>, line <span class="number">1</span>, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">    float(<span class="string">'a'</span>)</span><br><span class="line">ValueError: could <span class="keyword">not</span> convert string to float: <span class="string">'a'</span></span><br></pre></td></tr></table></figure>

<h4 id="10-转为整型"><a href="#10-转为整型" class="headerlink" title="10  转为整型"></a>10  转为整型</h4><p>int(x, base =10)</p>
<p>x 可能为字符串或数值，将 x 转换为整数。</p>
<p>如果参数是字符串，那么它可能包含符号和小数点。如果超出普通整数的表示范围，一个长整数被返回。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>int(<span class="string">'12'</span>,<span class="number">16</span>)</span><br><span class="line"><span class="number">18</span></span><br></pre></td></tr></table></figure>

<h4 id="11-转为集合"><a href="#11-转为集合" class="headerlink" title="11  转为集合"></a>11  转为集合</h4><p>返回一个 set 对象，集合内不允许有重复元素：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = [<span class="number">1</span>,<span class="number">4</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">1</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>set(a)</span><br><span class="line">&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>&#125;</span><br></pre></td></tr></table></figure>

<h4 id="12-转为切片"><a href="#12-转为切片" class="headerlink" title="12 转为切片"></a>12 转为切片</h4><p><strong>class</strong> slice(<strong>start</strong>, <strong>stop</strong>[, <strong>step</strong>])</p>
<p>返回一个由 range(start, stop, step) 指定索引集的 slice 对象，代码可读性变好。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = [<span class="number">1</span>,<span class="number">4</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">1</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>my_slice = slice(<span class="number">0</span>,<span class="number">5</span>,<span class="number">2</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a[my_slice]</span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">1</span>]</span><br></pre></td></tr></table></figure>

<h4 id="13-转元组"><a href="#13-转元组" class="headerlink" title="13 转元组"></a>13 转元组</h4><p><code>tuple()</code> 将对象转为一个不可变的序列类型</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>a=[<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a.append(<span class="number">7</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a</span><br><span class="line">[<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>]</span><br><span class="line"><span class="comment">#禁止a增删元素，只需转为元组</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>t=tuple(a)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>t</span><br><span class="line">(<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>)</span><br></pre></td></tr></table></figure>

<h4 id="14-转冻结集合"><a href="#14-转冻结集合" class="headerlink" title="14 转冻结集合"></a>14 转冻结集合</h4><p>创建不可修改的集合：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = frozenset([<span class="number">1</span>,<span class="number">1</span>,<span class="number">3</span>,<span class="number">2</span>,<span class="number">3</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a <span class="comment"># a 无 pop,append,insert等方法</span></span><br><span class="line">frozenset(&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>&#125;)</span><br></pre></td></tr></table></figure>

<h4 id="15-商和余数"><a href="#15-商和余数" class="headerlink" title="15 商和余数"></a>15 商和余数</h4><p>分别取商和余数</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>divmod(<span class="number">10</span>,<span class="number">3</span>)</span><br><span class="line">(<span class="number">3</span>, <span class="number">1</span>)</span><br></pre></td></tr></table></figure>

<h4 id="16-幂和余同时做"><a href="#16-幂和余同时做" class="headerlink" title="16 幂和余同时做"></a>16 幂和余同时做</h4><p>pow 三个参数都给出表示先幂运算再取余：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>pow(<span class="number">3</span>, <span class="number">2</span>, <span class="number">4</span>)</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>

<h4 id="17-四舍五入"><a href="#17-四舍五入" class="headerlink" title="17 四舍五入"></a>17 四舍五入</h4><p>四舍五入，<code>ndigits</code>代表小数点后保留几位：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>round(<span class="number">10.045</span>, <span class="number">2</span>)</span><br><span class="line"><span class="number">10.04</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>round(<span class="number">10.046</span>, <span class="number">2</span>)</span><br><span class="line"><span class="number">10.05</span></span><br></pre></td></tr></table></figure>

<h4 id="18-查看变量所占字节数"><a href="#18-查看变量所占字节数" class="headerlink" title="18 查看变量所占字节数"></a>18 查看变量所占字节数</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> sys</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = &#123;<span class="string">'a'</span>:<span class="number">1</span>,<span class="string">'b'</span>:<span class="number">2.0</span>&#125;</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>sys.getsizeof(a) <span class="comment"># 变量占用字节数</span></span><br><span class="line"><span class="number">240</span></span><br></pre></td></tr></table></figure>

<h4 id="19-门牌号"><a href="#19-门牌号" class="headerlink" title="19 门牌号"></a>19 门牌号</h4><p>返回对象的内存地址</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="class"><span class="keyword">class</span> <span class="title">Student</span><span class="params">()</span>:</span></span><br><span class="line">      <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self,id,name)</span>:</span></span><br><span class="line">        self.id = id</span><br><span class="line">        self.name = name</span><br><span class="line">          </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>xiaoming = Student(<span class="string">'001'</span>,<span class="string">'xiaoming'</span>) </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>id(xiaoming)</span><br><span class="line"><span class="number">2281930739080</span></span><br></pre></td></tr></table></figure>

<h4 id="20-排序函数"><a href="#20-排序函数" class="headerlink" title="20 排序函数"></a>20 排序函数</h4><p>排序：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = [<span class="number">1</span>,<span class="number">4</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">1</span>]</span><br><span class="line"><span class="comment">#降序</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>sorted(a,reverse=<span class="literal">True</span>)</span><br><span class="line">[<span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>, <span class="number">1</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = [&#123;<span class="string">'name'</span>:<span class="string">'xiaoming'</span>,<span class="string">'age'</span>:<span class="number">18</span>,<span class="string">'gender'</span>:<span class="string">'male'</span>&#125;,</span><br><span class="line">       &#123;<span class="string">'name'</span>:<span class="string">'xiaohong'</span>,<span class="string">'age'</span>:<span class="number">20</span>,<span class="string">'gender'</span>:<span class="string">'female'</span>&#125;]</span><br><span class="line"><span class="comment">#按 age升序</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>sorted(a,key=<span class="keyword">lambda</span> x: x[<span class="string">'age'</span>],reverse=<span class="literal">False</span>)</span><br><span class="line">[&#123;<span class="string">'name'</span>: <span class="string">'xiaoming'</span>, <span class="string">'age'</span>: <span class="number">18</span>, <span class="string">'gender'</span>: <span class="string">'male'</span>&#125;, </span><br><span class="line">&#123;<span class="string">'name'</span>: <span class="string">'xiaohong'</span>, <span class="string">'age'</span>: <span class="number">20</span>, <span class="string">'gender'</span>: <span class="string">'female'</span>&#125;]</span><br></pre></td></tr></table></figure>

<h4 id="21-求和函数"><a href="#21-求和函数" class="headerlink" title="21 求和函数"></a>21 求和函数</h4><p>求和：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>a = [<span class="number">1</span>,<span class="number">4</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">1</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>sum(a)</span><br><span class="line"><span class="number">11</span></span><br><span class="line"><span class="comment">#求和初始值为1</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>sum(a,<span class="number">1</span>)</span><br><span class="line"><span class="number">12</span></span><br></pre></td></tr></table></figure>

<h4 id="22-计算表达式"><a href="#22-计算表达式" class="headerlink" title="22 计算表达式"></a>22 计算表达式</h4><p>计算字符串型表达式的值</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>s = <span class="string">"1 + 3 +5"</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>eval(s)</span><br><span class="line"><span class="number">9</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>eval(<span class="string">'[1,3,5]*3'</span>)</span><br><span class="line">[<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>]</span><br></pre></td></tr></table></figure>

<h4 id="23-真假"><a href="#23-真假" class="headerlink" title="23 真假"></a>23 真假</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>bool(<span class="number">0</span>)</span><br><span class="line"><span class="literal">False</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>bool(<span class="literal">False</span>)</span><br><span class="line"><span class="literal">False</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>bool(<span class="literal">None</span>)</span><br><span class="line"><span class="literal">False</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>bool([])</span><br><span class="line"><span class="literal">False</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>bool([<span class="literal">False</span>])</span><br><span class="line"><span class="literal">True</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>bool([<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>])</span><br><span class="line"><span class="literal">True</span></span><br></pre></td></tr></table></figure>

<h4 id="24-都为真"><a href="#24-都为真" class="headerlink" title="24 都为真"></a>24 都为真</h4><p>如果可迭代对象的所有元素都为真，那么返回 <code>True</code>，否则返回<code>False</code></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#有0，所以不是所有元素都为真</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>all([<span class="number">1</span>,<span class="number">0</span>,<span class="number">3</span>,<span class="number">6</span>])</span><br><span class="line"><span class="literal">False</span></span><br><span class="line"><span class="comment">#所有元素都为真</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>all([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>])</span><br><span class="line"><span class="literal">True</span></span><br></pre></td></tr></table></figure>

<h4 id="25-至少一个为真"><a href="#25-至少一个为真" class="headerlink" title="25 至少一个为真"></a>25 至少一个为真</h4><p>接受一个可迭代对象，如果可迭代对象里至少有一个元素为真，那么返回<code>True</code>，否则返回<code>False</code></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 没有一个元素为真</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>any([<span class="number">0</span>,<span class="number">0</span>,<span class="number">0</span>,[]])</span><br><span class="line"><span class="literal">False</span></span><br><span class="line"><span class="comment"># 至少一个元素为真</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>any([<span class="number">0</span>,<span class="number">0</span>,<span class="number">1</span>])</span><br><span class="line"><span class="literal">True</span></span><br></pre></td></tr></table></figure>

<h4 id="26-获取用户输入"><a href="#26-获取用户输入" class="headerlink" title="26 获取用户输入"></a>26 获取用户输入</h4><p>获取用户输入内容</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>input()</span><br><span class="line">I<span class="string">'m typing </span></span><br><span class="line"><span class="string">"I'</span>m typing <span class="string">"</span></span><br></pre></td></tr></table></figure>

<h4 id="27-print-用法"><a href="#27-print-用法" class="headerlink" title="27 print 用法"></a>27 print 用法</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>lst = [<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>]</span><br><span class="line"><span class="comment"># f 打印</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(<span class="string">f'lst: <span class="subst">&#123;lst&#125;</span>'</span>)</span><br><span class="line">lst: [<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>]</span><br><span class="line"><span class="comment"># format 打印</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(<span class="string">'lst:&#123;&#125;'</span>.format(lst))</span><br><span class="line">lst:[<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>]</span><br></pre></td></tr></table></figure>

<h4 id="28-字符串格式化"><a href="#28-字符串格式化" class="headerlink" title="28 字符串格式化"></a>28 字符串格式化</h4><p>格式化字符串常见用法</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(<span class="string">"i am &#123;0&#125;,age &#123;1&#125;"</span>.format(<span class="string">"tom"</span>,<span class="number">18</span>))</span><br><span class="line">i am tom,age <span class="number">18</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(<span class="string">"&#123;:.2f&#125;"</span>.format(<span class="number">3.1415926</span>)) <span class="comment"># 保留小数点后两位</span></span><br><span class="line"><span class="number">3.14</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(<span class="string">"&#123;:+.2f&#125;"</span>.format(<span class="number">-1</span>)) <span class="comment"># 带符号保留小数点后两位</span></span><br><span class="line"><span class="number">-1.00</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(<span class="string">"&#123;:.0f&#125;"</span>.format(<span class="number">2.718</span>)) <span class="comment"># 不带小数位</span></span><br><span class="line"><span class="number">3</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(<span class="string">"&#123;:0&gt;3d&#125;"</span>.format(<span class="number">5</span>)) <span class="comment"># 整数补零，填充左边, 宽度为3</span></span><br><span class="line"><span class="number">005</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(<span class="string">"&#123;:,&#125;"</span>.format(<span class="number">10241024</span>)) <span class="comment"># 以逗号分隔的数字格式</span></span><br><span class="line"><span class="number">10</span>,<span class="number">241</span>,<span class="number">024</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(<span class="string">"&#123;:.2%&#125;"</span>.format(<span class="number">0.718</span>)) <span class="comment"># 百分比格式</span></span><br><span class="line"><span class="number">71.80</span>%</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>print(<span class="string">"&#123;:.2e&#125;"</span>.format(<span class="number">10241024</span>)) <span class="comment"># 指数记法</span></span><br><span class="line"><span class="number">1.02e+07</span></span><br></pre></td></tr></table></figure>

<h4 id="29-返回对象哈希值"><a href="#29-返回对象哈希值" class="headerlink" title="29 返回对象哈希值"></a>29 返回对象哈希值</h4><p>返回对象的哈希值。值得注意，自定义的实例都可哈希：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="class"><span class="keyword">class</span> <span class="title">Student</span><span class="params">()</span>:</span></span><br><span class="line">      <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self,id,name)</span>:</span></span><br><span class="line">        self.id = id</span><br><span class="line">        self.name = name</span><br><span class="line">        </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>xiaoming = Student(<span class="string">'001'</span>,<span class="string">'xiaoming'</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>hash(xiaoming)</span><br><span class="line"><span class="number">-9223371894234104688</span></span><br></pre></td></tr></table></figure>

<p><code>list</code>, <code>dict</code>, <code>set</code>等可变对象都不可哈希(unhashable)：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>hash([<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>])</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">"&lt;pyshell#71&gt;"</span>, line <span class="number">1</span>, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">    hash([<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>])</span><br><span class="line">TypeError: unhashable type: <span class="string">'list'</span></span><br></pre></td></tr></table></figure>

<h4 id="30-打开文件"><a href="#30-打开文件" class="headerlink" title="30 打开文件"></a>30 打开文件</h4><p>返回文件对象</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> os</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>os.chdir(<span class="string">'D:/source/dataset'</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>os.listdir()</span><br><span class="line">[<span class="string">'drinksbycountry.csv'</span>, <span class="string">'IMDB-Movie-Data.csv'</span>, <span class="string">'movietweetings'</span>, </span><br><span class="line"><span class="string">'titanic_eda_data.csv'</span>, <span class="string">'titanic_train_data.csv'</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>o = open(<span class="string">'drinksbycountry.csv'</span>,mode=<span class="string">'r'</span>,encoding=<span class="string">'utf-8'</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>o.read()</span><br><span class="line"><span class="string">"country,beer_servings,spirit_servings,wine_servings,total_litres_of_pur</span></span><br><span class="line"><span class="string">e_alcohol,continent\nAfghanistan,0,0,0,0.0,Asia\nAlbania,89,132,54,4.9,"</span></span><br></pre></td></tr></table></figure>

<p>mode 取值表：</p>
<table>
<thead>
<tr>
<th align="left">字符</th>
<th align="left">意义</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><code>&#39;r&#39;</code></td>
<td align="left">读取（默认）</td>
</tr>
<tr>
<td align="left"><code>&#39;w&#39;</code></td>
<td align="left">写入，并先截断文件</td>
</tr>
<tr>
<td align="left"><code>&#39;x&#39;</code></td>
<td align="left">排它性创建，如果文件已存在则失败</td>
</tr>
<tr>
<td align="left"><code>&#39;a&#39;</code></td>
<td align="left">写入，如果文件存在则在末尾追加</td>
</tr>
<tr>
<td align="left"><code>&#39;b&#39;</code></td>
<td align="left">二进制模式</td>
</tr>
<tr>
<td align="left"><code>&#39;t&#39;</code></td>
<td align="left">文本模式（默认）</td>
</tr>
<tr>
<td align="left"><code>&#39;+&#39;</code></td>
<td align="left">打开用于更新（读取与写入）</td>
</tr>
</tbody></table>
<h4 id="31-查看对象类型"><a href="#31-查看对象类型" class="headerlink" title="31 查看对象类型"></a>31 查看对象类型</h4><p><strong>class</strong> type(<strong>name</strong>, <strong>bases</strong>, <strong>dict</strong>)</p>
<p>传入参数，返回 <strong>object</strong> 类型：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>type(&#123;<span class="number">4</span>,<span class="number">6</span>,<span class="number">1</span>&#125;)</span><br><span class="line">&lt;<span class="class"><span class="keyword">class</span> '<span class="title">set</span>'&gt;</span></span><br><span class="line"><span class="class">&gt;&gt;&gt; <span class="title">type</span><span class="params">(&#123;<span class="string">'a'</span>:[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>],<span class="string">'b'</span>:[<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]&#125;)</span></span></span><br><span class="line"><span class="class">&lt;<span class="title">class</span> '<span class="title">dict</span>'&gt;</span></span><br><span class="line"><span class="class">&gt;&gt;&gt; <span class="title">class</span> <span class="title">Student</span><span class="params">()</span>:</span></span><br><span class="line">      <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self,id,name)</span>:</span></span><br><span class="line">        self.id = id</span><br><span class="line">        self.name = name</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>type(Student(<span class="string">'1'</span>,<span class="string">'xiaoming'</span>))</span><br><span class="line">&lt;<span class="class"><span class="keyword">class</span> '<span class="title">__main__</span>.<span class="title">Student</span>'&gt;</span></span><br></pre></td></tr></table></figure>

<h4 id="32-两种创建属性方法"><a href="#32-两种创建属性方法" class="headerlink" title="32  两种创建属性方法"></a>32  两种创建属性方法</h4><p>返回 property 属性，典型的用法：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="class"><span class="keyword">class</span> <span class="title">C</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">      self._x = <span class="literal">None</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">getx</span><span class="params">(self)</span>:</span></span><br><span class="line">      <span class="keyword">return</span> self._x</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">setx</span><span class="params">(self, value)</span>:</span></span><br><span class="line">      self._x = value</span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">delx</span><span class="params">(self)</span>:</span></span><br><span class="line">      <span class="keyword">del</span> self._x</span><br><span class="line">    <span class="comment"># 使用property类创建 property 属性</span></span><br><span class="line">    x = property(getx, setx, delx, <span class="string">"I'm the 'x' property."</span>)</span><br></pre></td></tr></table></figure>

<p>使用 C 类：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>C().x=<span class="number">1</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>c=C()</span><br><span class="line"><span class="comment"># 属性x赋值</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>c.x=<span class="number">1</span></span><br><span class="line"><span class="comment"># 拿值</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>c.getx()</span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="comment"># 删除属性x</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>c.delx()</span><br><span class="line"><span class="comment"># 再拿报错</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>c.getx()</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">"&lt;pyshell#118&gt;"</span>, line <span class="number">1</span>, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">    c.getx()</span><br><span class="line">  File <span class="string">"&lt;pyshell#112&gt;"</span>, line <span class="number">5</span>, <span class="keyword">in</span> getx</span><br><span class="line">    <span class="keyword">return</span> self._x</span><br><span class="line">AttributeError: <span class="string">'C'</span> object has no attribute <span class="string">'_x'</span></span><br><span class="line"><span class="comment"># 再属性赋值</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>c.x=<span class="number">1</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>c.setx(<span class="number">1</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>c.getx()</span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>

<p>使用<code>@property</code>装饰器，实现与上完全一样的效果：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">C</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self)</span>:</span></span><br><span class="line">        self._x = <span class="literal">None</span></span><br><span class="line"></span><br><span class="line"><span class="meta">    @property</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">x</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> self._x</span><br><span class="line"></span><br><span class="line"><span class="meta">    @x.setter</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">x</span><span class="params">(self, value)</span>:</span></span><br><span class="line">        self._x = value</span><br><span class="line"></span><br><span class="line"><span class="meta">    @x.deleter</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">x</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">del</span> self._x</span><br></pre></td></tr></table></figure>

<h4 id="33-是否可调用"><a href="#33-是否可调用" class="headerlink" title="33 是否可调用"></a>33 是否可调用</h4><p>判断对象是否可被调用，能被调用的对象是一个<code>callable</code> 对象。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>callable(str)</span><br><span class="line"><span class="literal">True</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>callable(int)</span><br><span class="line"><span class="literal">True</span></span><br></pre></td></tr></table></figure>

<p>Student 对象实例目前不可调用：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="class"><span class="keyword">class</span> <span class="title">Student</span><span class="params">()</span>:</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self,id,name)</span>:</span></span><br><span class="line">            self.id = id</span><br><span class="line">            self.name = name</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>xiaoming = Student(id=<span class="string">'1'</span>,name=<span class="string">'xiaoming'</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>callable(xiaoming)</span><br><span class="line"><span class="literal">False</span></span><br></pre></td></tr></table></figure>

<p>如果 <code>xiaoming</code>能被调用 , 需要重写<code>Student</code>类的<code>__call__</code>方法：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="class"><span class="keyword">class</span> <span class="title">Student</span><span class="params">()</span>:</span></span><br><span class="line">      <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self,id,name)</span>:</span></span><br><span class="line">        self.id = id</span><br><span class="line">        self.name = name</span><br></pre></td></tr></table></figure>

<p>此时调用 xiaoming():</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>xiaoming = Student(<span class="string">'001'</span>,<span class="string">'xiaoming'</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>xiaoming()</span><br><span class="line">I can be called</span><br><span class="line">my name <span class="keyword">is</span> xiaoming</span><br></pre></td></tr></table></figure>

<h4 id="34-动态删除属性"><a href="#34-动态删除属性" class="headerlink" title="34 动态删除属性"></a>34 动态删除属性</h4><p>删除对象的属性</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="class"><span class="keyword">class</span> <span class="title">Student</span><span class="params">()</span>:</span></span><br><span class="line">      <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self,id,name)</span>:</span></span><br><span class="line">        self.id = id</span><br><span class="line">        self.name = name</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>xiaoming = Student(<span class="string">'001'</span>,<span class="string">'xiaoming'</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>delattr(xiaoming,<span class="string">'id'</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>hasattr(xiaoming,<span class="string">'id'</span>)</span><br><span class="line"><span class="literal">False</span></span><br></pre></td></tr></table></figure>

<h4 id="35-动态获取对象属性"><a href="#35-动态获取对象属性" class="headerlink" title="35 动态获取对象属性"></a>35 动态获取对象属性</h4><p>获取对象的属性</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="class"><span class="keyword">class</span> <span class="title">Student</span><span class="params">()</span>:</span></span><br><span class="line">      <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self,id,name)</span>:</span></span><br><span class="line">        self.id = id</span><br><span class="line">        self.name = name</span><br><span class="line">       </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>xiaoming = Student(<span class="string">'001'</span>,<span class="string">'xiaoming'</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>getattr(xiaoming,<span class="string">'name'</span>) <span class="comment"># 获取name的属性值</span></span><br><span class="line"><span class="string">'xiaoming'</span></span><br></pre></td></tr></table></figure>

<h4 id="36-对象是否有某个属性"><a href="#36-对象是否有某个属性" class="headerlink" title="36 对象是否有某个属性"></a>36 对象是否有某个属性</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="class"><span class="keyword">class</span> <span class="title">Student</span><span class="params">()</span>:</span></span><br><span class="line">      <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self,id,name)</span>:</span></span><br><span class="line">        self.id = id</span><br><span class="line">        self.name = name</span><br><span class="line">        </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>xiaoming = Student(<span class="string">'001'</span>,<span class="string">'xiaoming'</span>)        </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>getattr(xiaoming,<span class="string">'name'</span>)<span class="comment"># 判断 xiaoming有无 name属性</span></span><br><span class="line"><span class="string">'xiaoming'</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>hasattr(xiaoming,<span class="string">'name'</span>)</span><br><span class="line"><span class="literal">True</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>hasattr(xiaoming,<span class="string">'address'</span>)</span><br><span class="line"><span class="literal">False</span></span><br></pre></td></tr></table></figure>

<h4 id="37-isinstance"><a href="#37-isinstance" class="headerlink" title="37 isinstance"></a>37 isinstance</h4><p>判断<strong>object</strong>是否为<strong>classinfo</strong>的实例，是返回true</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="class"><span class="keyword">class</span> <span class="title">Student</span><span class="params">()</span>:</span></span><br><span class="line">      <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self,id,name)</span>:</span></span><br><span class="line">        self.id = id</span><br><span class="line">        self.name = name</span><br><span class="line">       </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>xiaoming = Student(<span class="string">'001'</span>,<span class="string">'xiaoming'</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>isinstance(xiaoming,Student)</span><br><span class="line"><span class="literal">True</span></span><br></pre></td></tr></table></figure>

<h4 id="38-父子关系鉴定"><a href="#38-父子关系鉴定" class="headerlink" title="38 父子关系鉴定"></a>38 父子关系鉴定</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="class"><span class="keyword">class</span> <span class="title">Student</span><span class="params">()</span>:</span></span><br><span class="line">      <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self,id,name)</span>:</span></span><br><span class="line">        self.id = id</span><br><span class="line">        self.name = name</span><br><span class="line">        </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="class"><span class="keyword">class</span> <span class="title">Undergraduate</span><span class="params">(Student)</span>:</span> </span><br><span class="line">       <span class="keyword">pass</span></span><br><span class="line">        </span><br><span class="line"><span class="comment"># 判断 Undergraduate 类是否为 Student 的子类 </span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>issubclass(Undergraduate,Student)</span><br><span class="line"><span class="literal">True</span></span><br></pre></td></tr></table></figure>

<p>第二个参数可为元组：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>issubclass(int,(int,float))</span><br><span class="line"><span class="literal">True</span></span><br></pre></td></tr></table></figure>

<h4 id="39-所有对象之根"><a href="#39-所有对象之根" class="headerlink" title="39 所有对象之根"></a>39 所有对象之根</h4><p>object 是所有类的基类</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>isinstance(<span class="number">1</span>,object)</span><br><span class="line"><span class="literal">True</span></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>isinstance([],object)</span><br><span class="line"><span class="literal">True</span></span><br></pre></td></tr></table></figure>

<h4 id="40-一键查看对象所有方法"><a href="#40-一键查看对象所有方法" class="headerlink" title="40 一键查看对象所有方法"></a>40 一键查看对象所有方法</h4><p>不带参数时返回<code>当前范围</code>内的变量、方法和定义的类型列表；带参数时返回<code>参数</code>的属性，方法列表。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="class"><span class="keyword">class</span> <span class="title">Student</span><span class="params">()</span>:</span></span><br><span class="line">      <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self,id,name)</span>:</span></span><br><span class="line">        self.id = id</span><br><span class="line">        self.name = name</span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>xiaoming = Student(<span class="string">'001'</span>,<span class="string">'xiaoming'</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>dir(xiaoming)</span><br><span class="line">[<span class="string">'__call__'</span>, <span class="string">'__class__'</span>, <span class="string">'__delattr__'</span>, <span class="string">'__dict__'</span>, <span class="string">'__dir__'</span>, <span class="string">'__doc__'</span>, <span class="string">'__eq__'</span>, <span class="string">'__format__'</span>, <span class="string">'__ge__'</span>, <span class="string">'__getattribute__'</span>, <span class="string">'__gt__'</span>, <span class="string">'__hash__'</span>, <span class="string">'__init__'</span>, <span class="string">'__init_subclass__'</span>, <span class="string">'__le__'</span>, <span class="string">'__lt__'</span>, <span class="string">'__module__'</span>, <span class="string">'__ne__'</span>, <span class="string">'__new__'</span>, <span class="string">'__reduce__'</span>, <span class="string">'__reduce_ex__'</span>, <span class="string">'__repr__'</span>, <span class="string">'__setattr__'</span>, <span class="string">'__sizeof__'</span>, <span class="string">'__str__'</span>, <span class="string">'__subclasshook__'</span>, <span class="string">'__weakref__'</span>, <span class="string">'id'</span>, <span class="string">'name'</span>]</span><br></pre></td></tr></table></figure>

<h4 id="41-枚举对象"><a href="#41-枚举对象" class="headerlink" title="41 枚举对象"></a>41 枚举对象</h4><p>Python 的枚举对象</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>s = [<span class="string">"a"</span>,<span class="string">"b"</span>,<span class="string">"c"</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">for</span> i,v <span class="keyword">in</span> enumerate(s):</span><br><span class="line">       print(i,v)</span><br><span class="line"><span class="number">0</span> a</span><br><span class="line"><span class="number">1</span> b</span><br><span class="line"><span class="number">2</span> c</span><br></pre></td></tr></table></figure>

<h4 id="42-创建迭代器"><a href="#42-创建迭代器" class="headerlink" title="42 创建迭代器"></a>42 创建迭代器</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="class"><span class="keyword">class</span> <span class="title">TestIter</span><span class="params">()</span>:</span></span><br><span class="line"> <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self,lst)</span>:</span></span><br><span class="line">  self.lst = lst</span><br><span class="line">  </span><br><span class="line"> <span class="comment"># 重写可迭代协议__iter__</span></span><br><span class="line"> <span class="function"><span class="keyword">def</span> <span class="title">__iter__</span><span class="params">(self)</span>:</span></span><br><span class="line">  print(<span class="string">'__iter__ is called'</span>)</span><br><span class="line">  <span class="keyword">return</span> iter(self.lst)</span><br></pre></td></tr></table></figure>

<p>迭代 TestIter 类：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>t = TestIter()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>t = TestIter([<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">7</span>,<span class="number">9</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">for</span> e <span class="keyword">in</span> t:</span><br><span class="line"> print(e)</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line">__iter__ <span class="keyword">is</span> called</span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="number">3</span></span><br><span class="line"><span class="number">5</span></span><br><span class="line"><span class="number">7</span></span><br><span class="line"><span class="number">9</span></span><br></pre></td></tr></table></figure>

<h4 id="43-创建range迭代器"><a href="#43-创建range迭代器" class="headerlink" title="43 创建range迭代器"></a>43 创建range迭代器</h4><ol>
<li>range(stop)</li>
<li>range(start, stop[,step])</li>
</ol>
<p>生成一个不可变序列的迭代器：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>t = range(<span class="number">11</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>t = range(<span class="number">0</span>,<span class="number">11</span>,<span class="number">2</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">for</span> e <span class="keyword">in</span> t:</span><br><span class="line">     print(e)</span><br><span class="line"></span><br><span class="line"><span class="number">0</span></span><br><span class="line"><span class="number">2</span></span><br><span class="line"><span class="number">4</span></span><br><span class="line"><span class="number">6</span></span><br><span class="line"><span class="number">8</span></span><br><span class="line"><span class="number">10</span></span><br></pre></td></tr></table></figure>

<h4 id="44-反向"><a href="#44-反向" class="headerlink" title="44 反向"></a>44 反向</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>rev = reversed([<span class="number">1</span>,<span class="number">4</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">1</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">for</span> i <span class="keyword">in</span> rev:</span><br><span class="line"> print(i)</span><br><span class="line"> </span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="number">3</span></span><br><span class="line"><span class="number">2</span></span><br><span class="line"><span class="number">4</span></span><br><span class="line"><span class="number">1</span></span><br></pre></td></tr></table></figure>

<h4 id="45-打包"><a href="#45-打包" class="headerlink" title="45 打包"></a>45 打包</h4><p>聚合各个可迭代对象的迭代器：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>x = [<span class="number">3</span>,<span class="number">2</span>,<span class="number">1</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>y = [<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>list(zip(y,x))</span><br><span class="line">[(<span class="number">4</span>, <span class="number">3</span>), (<span class="number">5</span>, <span class="number">2</span>), (<span class="number">6</span>, <span class="number">1</span>)]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">for</span> i,j <span class="keyword">in</span> zip(y,x):</span><br><span class="line"> print(i,j)</span><br><span class="line"></span><br><span class="line"><span class="number">4</span> <span class="number">3</span></span><br><span class="line"><span class="number">5</span> <span class="number">2</span></span><br><span class="line"><span class="number">6</span> <span class="number">1</span></span><br></pre></td></tr></table></figure>

<h4 id="46-过滤器"><a href="#46-过滤器" class="headerlink" title="46 过滤器"></a>46 过滤器</h4><p>函数通过 lambda 表达式设定过滤条件，保留 lambda 表达式为<code>True</code>的元素：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>fil = filter(<span class="keyword">lambda</span> x: x&gt;<span class="number">10</span>,[<span class="number">1</span>,<span class="number">11</span>,<span class="number">2</span>,<span class="number">45</span>,<span class="number">7</span>,<span class="number">6</span>,<span class="number">13</span>])</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">for</span> e <span class="keyword">in</span> fil:</span><br><span class="line">       print(e)</span><br><span class="line"></span><br><span class="line"><span class="number">11</span></span><br><span class="line"><span class="number">45</span></span><br><span class="line"><span class="number">13</span></span><br></pre></td></tr></table></figure>

<h4 id="47-链式比较"><a href="#47-链式比较" class="headerlink" title="47 链式比较"></a>47 链式比较</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>i = <span class="number">3</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">1</span> &lt; i &lt; <span class="number">3</span></span><br><span class="line"><span class="literal">False</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="number">1</span> &lt; i &lt;=<span class="number">3</span></span><br><span class="line"><span class="literal">True</span></span><br></pre></td></tr></table></figure>

<h4 id="48-链式操作"><a href="#48-链式操作" class="headerlink" title="48  链式操作"></a>48  链式操作</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">from</span> operator <span class="keyword">import</span> (add, sub)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="function"><span class="keyword">def</span> <span class="title">add_or_sub</span><span class="params">(a, b, oper)</span>:</span></span><br><span class="line"> <span class="keyword">return</span> (add <span class="keyword">if</span> oper == <span class="string">'+'</span> <span class="keyword">else</span> sub)(a, b)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>add_or_sub(<span class="number">1</span>, <span class="number">2</span>, <span class="string">'-'</span>)</span><br><span class="line"><span class="number">-1</span></span><br></pre></td></tr></table></figure>

<h4 id="49-split-分割"><a href="#49-split-分割" class="headerlink" title="49 split 分割**"></a>49 split 分割**</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">'i love python'</span>.split(<span class="string">' '</span>)</span><br><span class="line">[<span class="string">'i'</span>, <span class="string">'love'</span>, <span class="string">'python'</span>]</span><br></pre></td></tr></table></figure>

<h4 id="50-replace-替换"><a href="#50-replace-替换" class="headerlink" title="50 replace 替换"></a>50 replace 替换</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">'i\tlove\tpython'</span>.replace(<span class="string">'\t'</span>,<span class="string">','</span>)</span><br><span class="line"><span class="string">'i,love,python'</span></span><br></pre></td></tr></table></figure>

<h4 id="51-反转字符串"><a href="#51-反转字符串" class="headerlink" title="51 反转字符串"></a>51 反转字符串</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span>st=<span class="string">"python"</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">''</span>.join(reversed(st))</span><br><span class="line"><span class="string">'nohtyp'</span></span><br></pre></td></tr></table></figure>

<p><img src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" alt="img"></p>
<h4 id="52-使用time模块打印当前时间"><a href="#52-使用time模块打印当前时间" class="headerlink" title="52 使用time模块打印当前时间"></a>52 使用time模块打印当前时间</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 导入time模块</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> time</span><br><span class="line"><span class="comment"># 打印当前时间，返回浮点数</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>seconds = time.time()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>seconds</span><br><span class="line"><span class="number">1588858156.6146255</span></span><br></pre></td></tr></table></figure>

<h4 id="53-浮点数转时间结构体"><a href="#53-浮点数转时间结构体" class="headerlink" title="53 浮点数转时间结构体"></a>53 浮点数转时间结构体</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 浮点数转时间结构体</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>local_time = time.localtime(seconds)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>local_time</span><br><span class="line">time.struct_time(tm_year=<span class="number">2020</span>, tm_mon=<span class="number">5</span>, tm_mday=<span class="number">7</span>, tm_hour=<span class="number">21</span>, tm_min=<span class="number">29</span>, tm_sec=<span class="number">16</span>, tm_wday=<span class="number">3</span>, tm_yday=<span class="number">128</span>, tm_isdst=<span class="number">0</span>)</span><br></pre></td></tr></table></figure>

<ul>
<li>tm_year: 年</li>
<li>tm_mon: 月</li>
<li>tm_mday: 日</li>
<li>tm_hour: 小时</li>
<li>tm_min：分</li>
<li>tm_sec: 分</li>
<li>tm_sec: 秒</li>
<li>tm_wday: 一周中索引([0,6], 周一的索引:0)</li>
<li>tm_yday: 一年中索引([1,366])</li>
<li>tm_isdst: 1 if summer time is in effect, 0 if not, and -1 if unknown</li>
</ul>
<h4 id="54-时间结构体转时间字符串"><a href="#54-时间结构体转时间字符串" class="headerlink" title="54 时间结构体转时间字符串"></a>54 时间结构体转时间字符串</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 时间结构体转时间字符串</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>str_time = time.asctime(local_time)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>str_time</span><br><span class="line"><span class="string">'Thu May  7 21:29:16 2020'</span></span><br></pre></td></tr></table></figure>

<h4 id="55-时间结构体转指定格式时间字符串"><a href="#55-时间结构体转指定格式时间字符串" class="headerlink" title="55 时间结构体转指定格式时间字符串"></a>55 时间结构体转指定格式时间字符串</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 时间结构体转指定格式的时间字符串</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>format_time = time.strftime(<span class="string">'%Y.%m.%d %H:%M:%S'</span>,local_time)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>format_time</span><br><span class="line"><span class="string">'2020.05.07 21:29:16'</span></span><br></pre></td></tr></table></figure>

<h4 id="56-时间字符串转时间结构体"><a href="#56-时间字符串转时间结构体" class="headerlink" title="56 时间字符串转时间结构体"></a>56 时间字符串转时间结构体</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 时间字符串转时间结构体</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>time.strptime(format_time,<span class="string">'%Y.%m.%d %H:%M:%S'</span>)</span><br><span class="line">time.struct_time(tm_year=<span class="number">2020</span>, tm_mon=<span class="number">5</span>, tm_mday=<span class="number">7</span>, tm_hour=<span class="number">21</span>, tm_min=<span class="number">29</span>, tm_sec=<span class="number">16</span>, tm_wday=<span class="number">3</span>, tm_yday=<span class="number">128</span>, tm_isdst=<span class="number">-1</span>)</span><br></pre></td></tr></table></figure>

<h4 id="57-年的日历图"><a href="#57-年的日历图" class="headerlink" title="57 年的日历图"></a>57 年的日历图</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> calendar</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">from</span> datetime <span class="keyword">import</span> date</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>mydate=date.today()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>calendar.calendar(<span class="number">2020</span>)</span><br></pre></td></tr></table></figure>

<p>结果：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">                                  <span class="number">2020</span></span><br><span class="line"></span><br><span class="line">      January                   February                   March        </span><br><span class="line">Mo Tu We Th Fr Sa Su      Mo Tu We Th Fr Sa Su      Mo Tu We Th Fr Sa Su</span><br><span class="line">       <span class="number">1</span>  <span class="number">2</span>  <span class="number">3</span>  <span class="number">4</span>  <span class="number">5</span>                      <span class="number">1</span>  <span class="number">2</span>                         <span class="number">1</span></span><br><span class="line"> <span class="number">6</span>  <span class="number">7</span>  <span class="number">8</span>  <span class="number">9</span> <span class="number">10</span> <span class="number">11</span> <span class="number">12</span>       <span class="number">3</span>  <span class="number">4</span>  <span class="number">5</span>  <span class="number">6</span>  <span class="number">7</span>  <span class="number">8</span>  <span class="number">9</span>       <span class="number">2</span>  <span class="number">3</span>  <span class="number">4</span>  <span class="number">5</span>  <span class="number">6</span>  <span class="number">7</span>  <span class="number">8</span></span><br><span class="line"><span class="number">13</span> <span class="number">14</span> <span class="number">15</span> <span class="number">16</span> <span class="number">17</span> <span class="number">18</span> <span class="number">19</span>      <span class="number">10</span> <span class="number">11</span> <span class="number">12</span> <span class="number">13</span> <span class="number">14</span> <span class="number">15</span> <span class="number">16</span>       <span class="number">9</span> <span class="number">10</span> <span class="number">11</span> <span class="number">12</span> <span class="number">13</span> <span class="number">14</span> <span class="number">15</span></span><br><span class="line"><span class="number">20</span> <span class="number">21</span> <span class="number">22</span> <span class="number">23</span> <span class="number">24</span> <span class="number">25</span> <span class="number">26</span>      <span class="number">17</span> <span class="number">18</span> <span class="number">19</span> <span class="number">20</span> <span class="number">21</span> <span class="number">22</span> <span class="number">23</span>      <span class="number">16</span> <span class="number">17</span> <span class="number">18</span> <span class="number">19</span> <span class="number">20</span> <span class="number">21</span> <span class="number">22</span></span><br><span class="line"><span class="number">27</span> <span class="number">28</span> <span class="number">29</span> <span class="number">30</span> <span class="number">31</span>            <span class="number">24</span> <span class="number">25</span> <span class="number">26</span> <span class="number">27</span> <span class="number">28</span> <span class="number">29</span>         <span class="number">23</span> <span class="number">24</span> <span class="number">25</span> <span class="number">26</span> <span class="number">27</span> <span class="number">28</span> <span class="number">29</span></span><br><span class="line">                                                    <span class="number">30</span> <span class="number">31</span></span><br><span class="line"></span><br><span class="line">       April                      May                       June</span><br><span class="line">Mo Tu We Th Fr Sa Su      Mo Tu We Th Fr Sa Su      Mo Tu We Th Fr Sa Su</span><br><span class="line">       <span class="number">1</span>  <span class="number">2</span>  <span class="number">3</span>  <span class="number">4</span>  <span class="number">5</span>                   <span class="number">1</span>  <span class="number">2</span>  <span class="number">3</span>       <span class="number">1</span>  <span class="number">2</span>  <span class="number">3</span>  <span class="number">4</span>  <span class="number">5</span>  <span class="number">6</span>  <span class="number">7</span></span><br><span class="line"> <span class="number">6</span>  <span class="number">7</span>  <span class="number">8</span>  <span class="number">9</span> <span class="number">10</span> <span class="number">11</span> <span class="number">12</span>       <span class="number">4</span>  <span class="number">5</span>  <span class="number">6</span>  <span class="number">7</span>  <span class="number">8</span>  <span class="number">9</span> <span class="number">10</span>       <span class="number">8</span>  <span class="number">9</span> <span class="number">10</span> <span class="number">11</span> <span class="number">12</span> <span class="number">13</span> <span class="number">14</span></span><br><span class="line"><span class="number">13</span> <span class="number">14</span> <span class="number">15</span> <span class="number">16</span> <span class="number">17</span> <span class="number">18</span> <span class="number">19</span>      <span class="number">11</span> <span class="number">12</span> <span class="number">13</span> <span class="number">14</span> <span class="number">15</span> <span class="number">16</span> <span class="number">17</span>      <span class="number">15</span> <span class="number">16</span> <span class="number">17</span> <span class="number">18</span> <span class="number">19</span> <span class="number">20</span> <span class="number">21</span></span><br><span class="line"><span class="number">20</span> <span class="number">21</span> <span class="number">22</span> <span class="number">23</span> <span class="number">24</span> <span class="number">25</span> <span class="number">26</span>      <span class="number">18</span> <span class="number">19</span> <span class="number">20</span> <span class="number">21</span> <span class="number">22</span> <span class="number">23</span> <span class="number">24</span>      <span class="number">22</span> <span class="number">23</span> <span class="number">24</span> <span class="number">25</span> <span class="number">26</span> <span class="number">27</span> <span class="number">28</span></span><br><span class="line"><span class="number">27</span> <span class="number">28</span> <span class="number">29</span> <span class="number">30</span>               <span class="number">25</span> <span class="number">26</span> <span class="number">27</span> <span class="number">28</span> <span class="number">29</span> <span class="number">30</span> <span class="number">31</span>      <span class="number">29</span> <span class="number">30</span></span><br><span class="line"></span><br><span class="line">        July                     August                  September</span><br><span class="line">Mo Tu We Th Fr Sa Su      Mo Tu We Th Fr Sa Su      Mo Tu We Th Fr Sa Su</span><br><span class="line">       <span class="number">1</span>  <span class="number">2</span>  <span class="number">3</span>  <span class="number">4</span>  <span class="number">5</span>                      <span class="number">1</span>  <span class="number">2</span>          <span class="number">1</span>  <span class="number">2</span>  <span class="number">3</span>  <span class="number">4</span>  <span class="number">5</span>  <span class="number">6</span></span><br><span class="line"> <span class="number">6</span>  <span class="number">7</span>  <span class="number">8</span>  <span class="number">9</span> <span class="number">10</span> <span class="number">11</span> <span class="number">12</span>       <span class="number">3</span>  <span class="number">4</span>  <span class="number">5</span>  <span class="number">6</span>  <span class="number">7</span>  <span class="number">8</span>  <span class="number">9</span>       <span class="number">7</span>  <span class="number">8</span>  <span class="number">9</span> <span class="number">10</span> <span class="number">11</span> <span class="number">12</span> <span class="number">13</span></span><br><span class="line"><span class="number">13</span> <span class="number">14</span> <span class="number">15</span> <span class="number">16</span> <span class="number">17</span> <span class="number">18</span> <span class="number">19</span>      <span class="number">10</span> <span class="number">11</span> <span class="number">12</span> <span class="number">13</span> <span class="number">14</span> <span class="number">15</span> <span class="number">16</span>      <span class="number">14</span> <span class="number">15</span> <span class="number">16</span> <span class="number">17</span> <span class="number">18</span> <span class="number">19</span> <span class="number">20</span></span><br><span class="line"><span class="number">20</span> <span class="number">21</span> <span class="number">22</span> <span class="number">23</span> <span class="number">24</span> <span class="number">25</span> <span class="number">26</span>      <span class="number">17</span> <span class="number">18</span> <span class="number">19</span> <span class="number">20</span> <span class="number">21</span> <span class="number">22</span> <span class="number">23</span>      <span class="number">21</span> <span class="number">22</span> <span class="number">23</span> <span class="number">24</span> <span class="number">25</span> <span class="number">26</span> <span class="number">27</span></span><br><span class="line"><span class="number">27</span> <span class="number">28</span> <span class="number">29</span> <span class="number">30</span> <span class="number">31</span>            <span class="number">24</span> <span class="number">25</span> <span class="number">26</span> <span class="number">27</span> <span class="number">28</span> <span class="number">29</span> <span class="number">30</span>      <span class="number">28</span> <span class="number">29</span> <span class="number">30</span></span><br><span class="line">                          <span class="number">31</span></span><br><span class="line"></span><br><span class="line">      October                   November                  December</span><br><span class="line">Mo Tu We Th Fr Sa Su      Mo Tu We Th Fr Sa Su      Mo Tu We Th Fr Sa Su</span><br><span class="line">          <span class="number">1</span>  <span class="number">2</span>  <span class="number">3</span>  <span class="number">4</span>                         <span class="number">1</span>          <span class="number">1</span>  <span class="number">2</span>  <span class="number">3</span>  <span class="number">4</span>  <span class="number">5</span>  <span class="number">6</span></span><br><span class="line"> <span class="number">5</span>  <span class="number">6</span>  <span class="number">7</span>  <span class="number">8</span>  <span class="number">9</span> <span class="number">10</span> <span class="number">11</span>       <span class="number">2</span>  <span class="number">3</span>  <span class="number">4</span>  <span class="number">5</span>  <span class="number">6</span>  <span class="number">7</span>  <span class="number">8</span>       <span class="number">7</span>  <span class="number">8</span>  <span class="number">9</span> <span class="number">10</span> <span class="number">11</span> <span class="number">12</span> <span class="number">13</span></span><br><span class="line"><span class="number">12</span> <span class="number">13</span> <span class="number">14</span> <span class="number">15</span> <span class="number">16</span> <span class="number">17</span> <span class="number">18</span>       <span class="number">9</span> <span class="number">10</span> <span class="number">11</span> <span class="number">12</span> <span class="number">13</span> <span class="number">14</span> <span class="number">15</span>      <span class="number">14</span> <span class="number">15</span> <span class="number">16</span> <span class="number">17</span> <span class="number">18</span> <span class="number">19</span> <span class="number">20</span></span><br><span class="line"><span class="number">19</span> <span class="number">20</span> <span class="number">21</span> <span class="number">22</span> <span class="number">23</span> <span class="number">24</span> <span class="number">25</span>      <span class="number">16</span> <span class="number">17</span> <span class="number">18</span> <span class="number">19</span> <span class="number">20</span> <span class="number">21</span> <span class="number">22</span>      <span class="number">21</span> <span class="number">22</span> <span class="number">23</span> <span class="number">24</span> <span class="number">25</span> <span class="number">26</span> <span class="number">27</span></span><br><span class="line"><span class="number">26</span> <span class="number">27</span> <span class="number">28</span> <span class="number">29</span> <span class="number">30</span> <span class="number">31</span>         <span class="number">23</span> <span class="number">24</span> <span class="number">25</span> <span class="number">26</span> <span class="number">27</span> <span class="number">28</span> <span class="number">29</span>      <span class="number">28</span> <span class="number">29</span> <span class="number">30</span> <span class="number">31</span></span><br><span class="line">                          <span class="number">30</span></span><br></pre></td></tr></table></figure>

<h4 id="58-月的日历图"><a href="#58-月的日历图" class="headerlink" title="58 月的日历图"></a>58 月的日历图</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> calendar</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">from</span> datetime <span class="keyword">import</span> date</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>mydate = date.today()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>calendar.month(mydate.year, mydate.month)</span><br></pre></td></tr></table></figure>

<p>结果：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">      May <span class="number">2020</span></span><br><span class="line">Mo Tu We Th Fr Sa Su</span><br><span class="line">             <span class="number">1</span>  <span class="number">2</span>  <span class="number">3</span></span><br><span class="line"> <span class="number">4</span>  <span class="number">5</span>  <span class="number">6</span>  <span class="number">7</span>  <span class="number">8</span>  <span class="number">9</span> <span class="number">10</span></span><br><span class="line"><span class="number">11</span> <span class="number">12</span> <span class="number">13</span> <span class="number">14</span> <span class="number">15</span> <span class="number">16</span> <span class="number">17</span></span><br><span class="line"><span class="number">18</span> <span class="number">19</span> <span class="number">20</span> <span class="number">21</span> <span class="number">22</span> <span class="number">23</span> <span class="number">24</span></span><br><span class="line"><span class="number">25</span> <span class="number">26</span> <span class="number">27</span> <span class="number">28</span> <span class="number">29</span> <span class="number">30</span> <span class="number">31</span></span><br></pre></td></tr></table></figure>

<h4 id="59-判断是否为闰年"><a href="#59-判断是否为闰年" class="headerlink" title="59 判断是否为闰年"></a>59 判断是否为闰年</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> calendar</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">from</span> datetime <span class="keyword">import</span> date</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>mydate = date.today()</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>is_leap = calendar.isleap(mydate.year)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>(<span class="string">"&#123;&#125;是闰年"</span> <span class="keyword">if</span> is_leap <span class="keyword">else</span> <span class="string">"&#123;&#125;不是闰年\n"</span>).format(mydate.year)</span><br><span class="line"><span class="string">'2020是闰年'</span></span><br></pre></td></tr></table></figure>

<h4 id="60-with-读写文件"><a href="#60-with-读写文件" class="headerlink" title="60 with 读写文件"></a>60 with 读写文件</h4><p>读文件：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">&gt;&gt; <span class="keyword">import</span> os</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>os.chdir(<span class="string">'D:/source/dataset'</span>)</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>os.listdir()</span><br><span class="line">[<span class="string">'drinksbycountry.csv'</span>, <span class="string">'IMDB-Movie-Data.csv'</span>, <span class="string">'movietweetings'</span>, <span class="string">'test.csv'</span>, <span class="string">'titanic_eda_data.csv'</span>, <span class="string">'titanic_train_data.csv'</span>, <span class="string">'train.csv'</span>]</span><br><span class="line"><span class="comment"># 读文件</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">with</span> open(<span class="string">'drinksbycountry.csv'</span>,mode=<span class="string">'r'</span>,encoding=<span class="string">'utf-8'</span>) <span class="keyword">as</span> f:</span><br><span class="line">      o = f.read()</span><br><span class="line">      print(o)</span><br></pre></td></tr></table></figure>

<p>写文件：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 写文件</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">with</span> open(<span class="string">'new_file.txt'</span>,mode=<span class="string">'w'</span>,encoding=<span class="string">'utf-8'</span>) <span class="keyword">as</span> f:</span><br><span class="line">      w = f.write(<span class="string">'I love python\n It\'s so simple'</span>)</span><br><span class="line">      os.listdir()</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line">[<span class="string">'drinksbycountry.csv'</span>, <span class="string">'IMDB-Movie-Data.csv'</span>, <span class="string">'movietweetings'</span>, <span class="string">'new_file.txt'</span>, <span class="string">'test.csv'</span>, <span class="string">'titanic_eda_data.csv'</span>, <span class="string">'titanic_train_data.csv'</span>, <span class="string">'train.csv'</span>]</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">with</span> open(<span class="string">'new_file.txt'</span>,mode=<span class="string">'r'</span>,encoding=<span class="string">'utf-8'</span>) <span class="keyword">as</span> f:</span><br><span class="line">      o = f.read()</span><br><span class="line">      print(o)</span><br><span class="line"> </span><br><span class="line">I love python</span><br><span class="line"> It<span class="string">'s so simple</span></span><br></pre></td></tr></table></figure>

<h4 id="61-提取后缀名"><a href="#61-提取后缀名" class="headerlink" title="61 提取后缀名"></a>61 提取后缀名</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> os</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>os.path.splitext(<span class="string">'D:/source/dataset/new_file.txt'</span>)</span><br><span class="line">(<span class="string">'D:/source/dataset/new_file'</span>, <span class="string">'.txt'</span>) <span class="comment">#[1]：后缀名</span></span><br></pre></td></tr></table></figure>

<h4 id="62-提取完整文件名"><a href="#62-提取完整文件名" class="headerlink" title="62 提取完整文件名"></a>62 提取完整文件名</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">import</span> os</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>os.path.split(<span class="string">'D:/source/dataset/new_file.txt'</span>)</span><br><span class="line">(<span class="string">'D:/source/dataset'</span>, <span class="string">'new_file.txt'</span>)</span><br></pre></td></tr></table></figure>

<h3 id="二、-Python-核心-12-例"><a href="#二、-Python-核心-12-例" class="headerlink" title="二、 Python 核心 12 例"></a>二、 Python 核心 12 例</h3><h4 id="63-斐波那契数列前n项"><a href="#63-斐波那契数列前n项" class="headerlink" title="63 斐波那契数列前n项"></a>63 斐波那契数列前n项</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="function"><span class="keyword">def</span> <span class="title">fibonacci</span><span class="params">(n)</span>:</span></span><br><span class="line">      a, b = <span class="number">1</span>, <span class="number">1</span></span><br><span class="line">      <span class="keyword">for</span> _ <span class="keyword">in</span> range(n):</span><br><span class="line">        <span class="keyword">yield</span> a</span><br><span class="line">        a, b = b, a+b <span class="comment"># 注意这种赋值</span></span><br><span class="line"></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">for</span> fib <span class="keyword">in</span> fibonacci(<span class="number">10</span>):</span><br><span class="line">      print(fib)</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="number">1</span></span><br><span class="line"><span class="number">2</span></span><br><span class="line"><span class="number">3</span></span><br><span class="line"><span class="number">5</span></span><br><span class="line"><span class="number">8</span></span><br><span class="line"><span class="number">13</span></span><br><span class="line"><span class="number">21</span></span><br><span class="line"><span class="number">34</span></span><br><span class="line"><span class="number">55</span></span><br></pre></td></tr></table></figure>

<h4 id="64-list-等分-n-组"><a href="#64-list-等分-n-组" class="headerlink" title="64 list 等分 n 组"></a>64 list 等分 n 组</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">from</span> math <span class="keyword">import</span> ceil</span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="function"><span class="keyword">def</span> <span class="title">divide_iter</span><span class="params">(lst, n)</span>:</span></span><br><span class="line">      <span class="keyword">if</span> n &lt;= <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">yield</span> lst</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">      i, div = <span class="number">0</span>, ceil(len(lst) / n)</span><br><span class="line">      <span class="keyword">while</span> i &lt; n:</span><br><span class="line">        <span class="keyword">yield</span> lst[i * div: (i + <span class="number">1</span>) * div]</span><br><span class="line">        i += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">  </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="keyword">for</span> group <span class="keyword">in</span> divide_iter([<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>],<span class="number">2</span>):</span><br><span class="line">      print(group)</span><br><span class="line"></span><br><span class="line"> </span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line">[<span class="number">4</span>, <span class="number">5</span>]</span><br></pre></td></tr></table></figure>

<h4 id="65-yield-解释"><a href="#65-yield-解释" class="headerlink" title="65 yield 解释"></a>65 yield 解释</h4><p>有好几位同学问我，生成器到底该怎么理解。</p>
<p>在这里我总结几句话，看看是否对不理解生成器的朋友有帮助。</p>
<p>生成器首先是一个 “特殊的” return ，遇到 yield 立即中断返回。</p>
<p>但是，又与 return 不同，yield 后下一次执行会进入到yield 的下一句代码，而不像 return 下一次执行还是从函数体的第一句开始执行。</p>
<p>可能还是没说清，那就用图解释一下：</p>
<p>第一次 yield 返回 1</p>
<p><img src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" alt="img"></p>
<p>第二次迭代，直接到位置 2 这句代码：</p>
<p><img src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" alt="img"></p>
<p>然后再走 for ,再 yield ，重复下去，直到for结束。</p>
<p>以上就是理解 yield 的重点一个方面。</p>
<h4 id="66-装饰器"><a href="#66-装饰器" class="headerlink" title="66 装饰器"></a>66 装饰器</h4><h5 id="66-1-定义装饰器"><a href="#66-1-定义装饰器" class="headerlink" title="66.1 定义装饰器"></a>66.1 定义装饰器</h5><p>time 模块大家比较清楚，第一个导入 <code>wraps</code> 函数（装饰器）为确保被装饰的函数名称等属性不发生改变用的，这点现在不清楚也问题不大，实践一下就知道了。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> functools <span class="keyword">import</span> wraps</span><br><span class="line"><span class="keyword">import</span> time</span><br></pre></td></tr></table></figure>

<p>定义一个装饰器：print_info，装饰器函数入参要求为函数，返回值要求也为函数。</p>
<p>如下，入参为函数 f, 返回参数 info 也为函数，满足要求。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">print_info</span><span class="params">(f)</span>:</span></span><br><span class="line">    <span class="string">"""</span></span><br><span class="line"><span class="string">    @para: f, 入参函数名称</span></span><br><span class="line"><span class="string">    """</span></span><br><span class="line"><span class="meta">    @wraps(f) # 确保函数f名称等属性不发生改变</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">info</span><span class="params">()</span>:</span></span><br><span class="line">        print(<span class="string">'正在调用函数名称为： %s '</span> % (f.__name__,))</span><br><span class="line">        t1 = time.time()</span><br><span class="line">        f()</span><br><span class="line">        t2 = time.time()</span><br><span class="line">        delta = (t2 - t1)</span><br><span class="line">        print(<span class="string">'%s 函数执行时长为：%f s'</span> % (f.__name__,delta))</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> info</span><br></pre></td></tr></table></figure>

<h5 id="66-2使用装饰器"><a href="#66-2使用装饰器" class="headerlink" title="66.2使用装饰器"></a>66.2使用装饰器</h5><p>使用 print_info 装饰器，分别修饰 f1, f2 函数。</p>
<p>软件工程要求尽量一次定义，多次被复用。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="meta">@print_info</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f1</span><span class="params">()</span>:</span></span><br><span class="line">    time.sleep(<span class="number">1.0</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@print_info</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f2</span><span class="params">()</span>:</span></span><br><span class="line">    time.sleep(<span class="number">2.0</span>)</span><br></pre></td></tr></table></figure>

<h5 id="66-3-使用装饰后的函数"><a href="#66-3-使用装饰后的函数" class="headerlink" title="66.3 使用装饰后的函数"></a>66.3 使用装饰后的函数</h5><p>使用 f1, f2 函数：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">f1()</span><br><span class="line">f2()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出信息如下：</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 正在调用函数名称为：f1</span></span><br><span class="line"><span class="comment"># f1 函数执行时长为：1.000000 s</span></span><br><span class="line"><span class="comment"># 正在调用函数名称为：f2</span></span><br><span class="line"><span class="comment"># f2 函数执行时长为：2.000000 s</span></span><br></pre></td></tr></table></figure>

<h4 id="67-迭代器案例"><a href="#67-迭代器案例" class="headerlink" title="67 迭代器案例"></a>67 迭代器案例</h4><p>一个类如何成为迭代器类型，请看官方PEP说明：</p>
<p><img src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" alt="img"></p>
<p>即必须实现两个方法（或者叫两种协议）：<code>__iter__</code> , <code>__next__</code></p>
<p>下面编写一个迭代器类：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">YourRange</span><span class="params">()</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span><span class="params">(self, start, end)</span>:</span></span><br><span class="line">        self.value = start</span><br><span class="line">        self.end = end</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 成为迭代器类型的关键协议</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__iter__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">return</span> self</span><br><span class="line"></span><br><span class="line">    <span class="comment"># 当前迭代器状态(位置)的下一个位置</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__next__</span><span class="params">(self)</span>:</span></span><br><span class="line">        <span class="keyword">if</span> self.value &gt;= self.end:</span><br><span class="line">            <span class="keyword">raise</span> StopIteration</span><br><span class="line"></span><br><span class="line">        cur = self.value</span><br><span class="line">        self.value += <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> cur</span><br></pre></td></tr></table></figure>

<p>使用这个迭代器：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">yr = YourRange(<span class="number">5</span>, <span class="number">12</span>)</span><br><span class="line"><span class="keyword">for</span> e <span class="keyword">in</span> yr:</span><br><span class="line">    print(e)</span><br></pre></td></tr></table></figure>

<p>迭代器实现<code>__iter__</code> 协议，它就能在 for 上迭代，参考官网PEP解释：</p>
<p><img src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" alt="img"></p>
<p>文章最后提个问题，如果此时运行：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">next(yr)</span><br></pre></td></tr></table></figure>

<p>会输出 5， 还是报错？</p>
<p>如果 yr 是 list，for 遍历后，再 next(iter(yr)) 又会输出什么？</p>
<p>如果能分清这些问题，恭喜你，已经真正理解迭代器迭代和容器遍历的区别。如果你还拿不准，欢迎交流。</p>
<p>下面使用 4 种常见的绘图库绘制柱状图和折线图，使用尽可能最少的代码绘制，快速入门这些库是本文的写作目的。</p>
<h4 id="68-matplotlib"><a href="#68-matplotlib" class="headerlink" title="68 matplotlib"></a>68 matplotlib</h4><p>导入包：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib </span><br><span class="line">matplotlib.__version__  <span class="comment"># '2.2.2'</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br></pre></td></tr></table></figure>

<p>绘图代码：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt </span><br><span class="line">plt.plot([<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>],</span><br><span class="line">        [<span class="number">1.5</span>, <span class="number">1</span>, <span class="number">-1.3</span>, <span class="number">0.7</span>, <span class="number">0.8</span>, <span class="number">0.9</span>]</span><br><span class="line">        ,c=<span class="string">'red'</span>)</span><br><span class="line">plt.bar([<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>],</span><br><span class="line">        [<span class="number">2</span>, <span class="number">0.5</span>, <span class="number">0.7</span>, <span class="number">-1.2</span>, <span class="number">0.3</span>, <span class="number">0.4</span>]</span><br><span class="line">        )</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<p><img src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" alt="img"></p>
<h4 id="69-seaborn"><a href="#69-seaborn" class="headerlink" title="69 seaborn"></a>69 seaborn</h4><p>导入包：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> seaborn <span class="keyword">as</span> sns </span><br><span class="line">sns.__version__ <span class="comment"># '0.8.0'</span></span><br></pre></td></tr></table></figure>

<p>绘制图：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">sns.barplot([<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>],</span><br><span class="line">        [<span class="number">1.5</span>, <span class="number">1</span>, <span class="number">-1.3</span>, <span class="number">0.7</span>, <span class="number">0.8</span>, <span class="number">0.9</span>]</span><br><span class="line">        )</span><br><span class="line">sns.pointplot([<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>],</span><br><span class="line">        [<span class="number">2</span>, <span class="number">0.5</span>, <span class="number">0.7</span>, <span class="number">-1.2</span>, <span class="number">0.3</span>, <span class="number">0.4</span>]</span><br><span class="line">        )</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<p><img src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" alt="img"></p>
<h4 id="70-plotly-绘图"><a href="#70-plotly-绘图" class="headerlink" title="70 plotly 绘图"></a>70 plotly 绘图</h4><p>导入包：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> plotly </span><br><span class="line">plotly.__version__ <span class="comment"># '2.0.11'</span></span><br></pre></td></tr></table></figure>

<p>绘制图（自动打开html）：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> plotly.graph_objs <span class="keyword">as</span> go</span><br><span class="line"><span class="keyword">import</span> plotly.offline <span class="keyword">as</span> offline</span><br><span class="line"></span><br><span class="line">pyplt = offline.plot</span><br><span class="line">sca = go.Scatter(x=[<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>],</span><br><span class="line">             y=[<span class="number">1.5</span>, <span class="number">1</span>, <span class="number">-1.3</span>, <span class="number">0.7</span>, <span class="number">0.8</span>, <span class="number">0.9</span>]</span><br><span class="line">            )</span><br><span class="line">bar = go.Bar(x=[<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>],</span><br><span class="line">            y=[<span class="number">2</span>, <span class="number">0.5</span>, <span class="number">0.7</span>, <span class="number">-1.2</span>, <span class="number">0.3</span>, <span class="number">0.4</span>]</span><br><span class="line">            )</span><br><span class="line">fig = go.Figure(data = [sca,bar])</span><br><span class="line">pyplt(fig)</span><br></pre></td></tr></table></figure>

<p><img src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" alt="img"></p>
<h4 id="71-pyecharts"><a href="#71-pyecharts" class="headerlink" title="71 pyecharts"></a>71 pyecharts</h4><p>导入包：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> pyecharts</span><br><span class="line">pyecharts.__version__ <span class="comment"># '1.7.1'</span></span><br></pre></td></tr></table></figure>

<p>绘制图（自动打开html）：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">bar = (</span><br><span class="line">        Bar()</span><br><span class="line">        .add_xaxis([<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>])</span><br><span class="line">        .add_yaxis(<span class="string">'ybar'</span>,[<span class="number">1.5</span>, <span class="number">1</span>, <span class="number">-1.3</span>, <span class="number">0.7</span>, <span class="number">0.8</span>, <span class="number">0.9</span>])</span><br><span class="line">    )</span><br><span class="line">line = (Line()</span><br><span class="line">        .add_xaxis([<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>])</span><br><span class="line">        .add_yaxis(<span class="string">'yline'</span>,[<span class="number">2</span>, <span class="number">0.5</span>, <span class="number">0.7</span>, <span class="number">-1.2</span>, <span class="number">0.3</span>, <span class="number">0.4</span>])</span><br><span class="line">        )</span><br><span class="line">bar.overlap(line)</span><br><span class="line">bar.render_notebook()</span><br></pre></td></tr></table></figure>

<p><img src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" alt="img"></p>
<p>大家在复现代码时，需要注意API与包的版本紧密相关，与上面版本不同的包其内的API可能与以上写法有略有差异，大家根据情况自行调整即可。</p>
<p>matplotlib 绘制三维 3D 图形的方法，主要锁定在绘制 3D 曲面图和等高线图。</p>
<h4 id="72-理解-meshgrid"><a href="#72-理解-meshgrid" class="headerlink" title="72 理解 meshgrid"></a>72 理解 meshgrid</h4><p>要想掌握 3D 曲面图，需要首先理解 meshgrid 函数。</p>
<p>导入包：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br></pre></td></tr></table></figure>

<p>创建一维数组 x</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">nx, ny = (<span class="number">5</span>, <span class="number">3</span>)</span><br><span class="line">x = np.linspace(<span class="number">0</span>, <span class="number">1</span>, nx)</span><br><span class="line">x</span><br><span class="line"><span class="comment"># 结果</span></span><br><span class="line"><span class="comment"># array([0.  , 0.25, 0.5 , 0.75, 1.  ])</span></span><br></pre></td></tr></table></figure>

<p>创建一维数组 y</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">y = np.linspace(<span class="number">0</span>, <span class="number">1</span>, ny)</span><br><span class="line">y </span><br><span class="line"><span class="comment"># 结果</span></span><br><span class="line"><span class="comment"># array([0. , 0.5, 1. ])</span></span><br></pre></td></tr></table></figure>

<p>使用 <code>meshgrid</code> 生成网格点：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">xv, yv = np.meshgrid(x, y)</span><br><span class="line">xv</span><br></pre></td></tr></table></figure>

<p>xv 结果：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">array([[<span class="number">0.</span>  , <span class="number">0.25</span>, <span class="number">0.5</span> , <span class="number">0.75</span>, <span class="number">1.</span>  ],</span><br><span class="line">       [<span class="number">0.</span>  , <span class="number">0.25</span>, <span class="number">0.5</span> , <span class="number">0.75</span>, <span class="number">1.</span>  ],</span><br><span class="line">       [<span class="number">0.</span>  , <span class="number">0.25</span>, <span class="number">0.5</span> , <span class="number">0.75</span>, <span class="number">1.</span>  ]])</span><br></pre></td></tr></table></figure>

<p>yv 结果：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">array([[<span class="number">0.</span> , <span class="number">0.</span> , <span class="number">0.</span> , <span class="number">0.</span> , <span class="number">0.</span> ],</span><br><span class="line">       [<span class="number">0.5</span>, <span class="number">0.5</span>, <span class="number">0.5</span>, <span class="number">0.5</span>, <span class="number">0.5</span>],</span><br><span class="line">       [<span class="number">1.</span> , <span class="number">1.</span> , <span class="number">1.</span> , <span class="number">1.</span> , <span class="number">1.</span> ]])</span><br></pre></td></tr></table></figure>

<p>绘制网格点：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">plt.scatter(xv.flatten(),yv.flatten(),c=<span class="string">'red'</span>)</span><br><span class="line">plt.xticks(ticks=x)</span><br><span class="line">plt.yticks(ticks=y)</span><br></pre></td></tr></table></figure>

<p><img src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" alt="img"></p>
<p>以上就是 meshgrid 功能：创建网格点，它是绘制 3D 曲面图的必用方法之一。</p>
<h4 id="73-绘制曲面图"><a href="#73-绘制曲面图" class="headerlink" title="73 绘制曲面图"></a>73 绘制曲面图</h4><p>导入 3D 绘图模块：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> mpl_toolkits.mplot3d <span class="keyword">import</span> Axes3D</span><br></pre></td></tr></table></figure>

<p>生成X,Y,Z</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># X, Y </span></span><br><span class="line">x = np.arange(<span class="number">-5</span>, <span class="number">5</span>, <span class="number">0.25</span>)</span><br><span class="line">y = np.arange(<span class="number">-5</span>, <span class="number">5</span>, <span class="number">0.25</span>)</span><br><span class="line">X, Y = np.meshgrid(x, y)    <span class="comment"># x-y 平面的网格</span></span><br><span class="line">R = np.sqrt(X ** <span class="number">2</span> + Y ** <span class="number">2</span>)</span><br><span class="line"><span class="comment"># Z</span></span><br><span class="line">Z = np.sin(R)</span><br></pre></td></tr></table></figure>

<p>绘制 3D 曲面图：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">fig = plt.figure()</span><br><span class="line">ax = Axes3D(fig)</span><br><span class="line">plt.xticks(ticks=np.arange(<span class="number">-5</span>,<span class="number">6</span>))</span><br><span class="line">plt.yticks(ticks=np.arange(<span class="number">-5</span>,<span class="number">6</span>))</span><br><span class="line">ax.plot_surface(X, Y, Z, cmap=plt.get_cmap(<span class="string">'rainbow'</span>))</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<p><img src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" alt="img"></p>
<h4 id="74-等高线图"><a href="#74-等高线图" class="headerlink" title="74 等高线图"></a>74 等高线图</h4><p>以上 3D 曲面图的在 xy平面、 xz平面、yz平面投影，即是等高线图。</p>
<p>xy 平面投影得到的等高线图：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">fig = plt.figure()</span><br><span class="line">ax = Axes3D(fig)</span><br><span class="line">plt.xticks(ticks=np.arange(<span class="number">-5</span>,<span class="number">6</span>))</span><br><span class="line">plt.yticks(ticks=np.arange(<span class="number">-5</span>,<span class="number">6</span>))</span><br><span class="line">ax.contourf(X, Y, Z, zdir=<span class="string">'z'</span>, offset=<span class="number">-1</span>, cmap=plt.get_cmap(<span class="string">'rainbow'</span>))</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<p><img src="data:image/gif;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVQImWNgYGBgAAAABQABh6FO1AAAAABJRU5ErkJggg==" alt="img"></p>
<h3 id="三、-Python-习惯-26-例"><a href="#三、-Python-习惯-26-例" class="headerlink" title="三、 Python 习惯 26 例"></a>三、 Python 习惯 26 例</h3><h4 id="75-返回浮点数"><a href="#75-返回浮点数" class="headerlink" title="75 / 返回浮点数"></a>75 / 返回浮点数</h4><p>即便两个整数，<code>/</code> 操作也会返回浮点数</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">In [<span class="number">1</span>]: <span class="number">8</span>/<span class="number">5</span></span><br><span class="line">Out[<span class="number">1</span>]: <span class="number">1.6</span></span><br></pre></td></tr></table></figure>

<h4 id="76-得到整数部分"><a href="#76-得到整数部分" class="headerlink" title="76 // 得到整数部分"></a>76 // 得到整数部分</h4><p>使用 <code>//</code>快速得到两数相除的整数部分，并且返回整型，此操作符容易忽略，但确实很实用。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">In [<span class="number">2</span>]: <span class="number">8</span>//<span class="number">5</span></span><br><span class="line">Out[<span class="number">2</span>]: <span class="number">1</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">3</span>]: a = <span class="number">8</span>//<span class="number">5</span></span><br><span class="line">In [<span class="number">4</span>]: type(a)</span><br><span class="line">Out[<span class="number">4</span>]: int</span><br></pre></td></tr></table></figure>

<h4 id="77-得到余数"><a href="#77-得到余数" class="headerlink" title="77 % 得到余数"></a>77 % 得到余数</h4><p><code>%</code>得到两数相除的余数：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">In [<span class="number">6</span>]: <span class="number">8</span>%<span class="number">5</span></span><br><span class="line">Out[<span class="number">6</span>]: <span class="number">3</span></span><br></pre></td></tr></table></figure>

<h4 id="78-计算乘方"><a href="#78-计算乘方" class="headerlink" title="78 ** 计算乘方"></a>78 ** 计算乘方</h4><p><code>**</code> 计算几次方</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">In [<span class="number">7</span>]: <span class="number">2</span>**<span class="number">3</span></span><br><span class="line">Out[<span class="number">7</span>]: <span class="number">8</span></span><br></pre></td></tr></table></figure>

<h4 id="79-交互模式下的"><a href="#79-交互模式下的" class="headerlink" title="79 交互模式下的_"></a>79 交互模式下的_</h4><p>在交互模式下，上一次打印出来的表达式被赋值给变量 <code>_</code></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">In [<span class="number">8</span>]: <span class="number">2</span>*<span class="number">3.02</span>+<span class="number">1</span></span><br><span class="line">Out[<span class="number">8</span>]: <span class="number">7.04</span></span><br><span class="line"></span><br><span class="line">In [<span class="number">9</span>]: <span class="number">1</span>+_</span><br><span class="line">Out[<span class="number">9</span>]: <span class="number">8.04</span></span><br></pre></td></tr></table></figure>

<h4 id="80-单引号和双引号微妙不同"><a href="#80-单引号和双引号微妙不同" class="headerlink" title="80 单引号和双引号微妙不同"></a>80 单引号和双引号微妙不同</h4><p>使用单引号和双引号的微妙不同</p>
<p>使用一对双引号时，打印下面串无需转义字符：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">In [<span class="number">10</span>]: print(<span class="string">"That isn't a horse"</span>)</span><br><span class="line">That isn<span class="string">'t a horse</span></span><br></pre></td></tr></table></figure>

<p>使用单引号时，需要添加转义字符 <code>\</code>：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">In [<span class="number">11</span>]: print(<span class="string">'That isn\'t a horse'</span>)</span><br><span class="line">That isn<span class="string">'t a horse</span></span><br></pre></td></tr></table></figure>

<h4 id="81-跨行连续输入"><a href="#81-跨行连续输入" class="headerlink" title="81 跨行连续输入"></a>81 跨行连续输入</h4><p>符串字面值可以跨行连续输入；一种方式是用一对三重引号：<code>&quot;&quot;&quot;</code> 或 <code>&#39;&#39;&#39;</code></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">In [<span class="number">12</span>]: print(<span class="string">"""You're just pounding two</span></span><br><span class="line"><span class="string">    ...: coconut halves together."""</span>)</span><br><span class="line">Yo<span class="string">u're just pounding two</span></span><br><span class="line"><span class="string">coconut halves together.</span></span><br></pre></td></tr></table></figure>

<h4 id="82-数字和字符串"><a href="#82-数字和字符串" class="headerlink" title="82 数字和字符串"></a>82 数字和字符串</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">In [<span class="number">13</span>]: <span class="number">3</span>*<span class="string">'Py'</span></span><br><span class="line">Out[<span class="number">13</span>]: <span class="string">'PyPyPy'</span></span><br></pre></td></tr></table></figure>

<h4 id="83-连接字面值"><a href="#83-连接字面值" class="headerlink" title="83 连接字面值"></a>83 连接字面值</h4><p>堆积起来就行，什么都不用写：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">In [<span class="number">14</span>]: <span class="string">'Py'</span><span class="string">'thon'</span></span><br><span class="line">Out[<span class="number">14</span>]: <span class="string">'Python'</span></span><br></pre></td></tr></table></figure>

<h4 id="84-for-和-else"><a href="#84-for-和-else" class="headerlink" title="84 for 和 else"></a>84 for 和 else</h4><p>一般语言 <strong>else</strong> 只能和 if 搭，Python 中却支持 for 和 else, try 和 else.</p>
<p>for 和 else 搭后，遍历结束便会执行 else</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">In [<span class="number">29</span>]: <span class="keyword">for</span> i <span class="keyword">in</span> range(<span class="number">3</span>):</span><br><span class="line">    ...:     <span class="keyword">for</span> j <span class="keyword">in</span> range(i):</span><br><span class="line">    ...:         print(j)</span><br><span class="line">    ...:     <span class="keyword">else</span>:</span><br><span class="line">    ...:         print(<span class="string">'第%d轮遍历结束\n'</span>%(i+<span class="number">1</span>,))</span><br><span class="line">    ...:</span><br><span class="line">第<span class="number">1</span>轮遍历结束</span><br><span class="line"></span><br><span class="line"><span class="number">0</span></span><br><span class="line">第<span class="number">2</span>轮遍历结束</span><br><span class="line"></span><br><span class="line"><span class="number">0</span></span><br><span class="line"><span class="number">1</span></span><br><span class="line">第<span class="number">3</span>轮遍历结束</span><br></pre></td></tr></table></figure>

<h4 id="85-if-not-x"><a href="#85-if-not-x" class="headerlink" title="85. if not x"></a>85. if not x</h4><p>直接使用 x 和 not x 判断 x 是否为 None 或空</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">x = [<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> x:</span><br><span class="line">    print(<span class="string">'x is not empty '</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> <span class="keyword">not</span> x:</span><br><span class="line">    print(<span class="string">'x is empty'</span>)</span><br></pre></td></tr></table></figure>

<p>下面写法不够 Pythoner</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> x <span class="keyword">and</span> len(x) &gt; <span class="number">0</span>:</span><br><span class="line">    print(<span class="string">'x is not empty '</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> x <span class="keyword">is</span> <span class="literal">None</span> <span class="keyword">or</span> len(x) == <span class="number">0</span>:</span><br><span class="line">    print(<span class="string">'x is empty'</span>)</span><br></pre></td></tr></table></figure>

<h4 id="86-enumerate-枚举"><a href="#86-enumerate-枚举" class="headerlink" title="86. enumerate 枚举"></a>86. enumerate 枚举</h4><p>直接使用 enumerate 枚举容器，第二个参数表示索引的起始值</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">x = [<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i, e <span class="keyword">in</span> enumerate(x, <span class="number">10</span>): <span class="comment"># 枚举</span></span><br><span class="line">    print(i, e)</span><br></pre></td></tr></table></figure>

<p>下面写法不够 Pythoner:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">i = <span class="number">0</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> i &lt; len(x):</span><br><span class="line">    print(i+<span class="number">10</span>, x[i])</span><br><span class="line">    i+=<span class="number">1</span></span><br></pre></td></tr></table></figure>

<h4 id="87-in"><a href="#87-in" class="headerlink" title="87. in"></a>87. in</h4><p>判断字符串是否包含某个子串，使用<code>in</code>明显更加可读：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">x = <span class="string">'zen_of_python'</span></span><br><span class="line"><span class="keyword">if</span> <span class="string">'zen'</span> <span class="keyword">in</span> x:</span><br><span class="line">    print(<span class="string">'zen is in'</span>)</span><br></pre></td></tr></table></figure>

<p>find 返回值 要与 -1 判断，不太符合习惯：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">if</span> x.find(<span class="string">'zen'</span>) != <span class="number">-1</span>:</span><br><span class="line">    print(<span class="string">'zen is in'</span>)</span><br></pre></td></tr></table></figure>

<h4 id="88-zip-打包"><a href="#88-zip-打包" class="headerlink" title="88 zip 打包"></a>88 zip 打包</h4><p>使用 zip 打包后结合 for 使用输出一对，更加符合习惯：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">keys = [<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>]</span><br><span class="line">values = [<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> k, v <span class="keyword">in</span> zip(keys, values):</span><br><span class="line">    print(k, v)</span><br></pre></td></tr></table></figure>

<p>下面不符合 Python 习惯：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">d = &#123;&#125;</span><br><span class="line">i = <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> k <span class="keyword">in</span> keys:</span><br><span class="line">    print(k, values[i])</span><br><span class="line">    i += <span class="number">1</span></span><br></pre></td></tr></table></figure>

<h4 id="89-一对-‘’’"><a href="#89-一对-‘’’" class="headerlink" title="89 一对 ‘’’"></a>89 一对 ‘’’</h4><p>打印被分为多行的字符串，使用一对 <code>&#39;&#39;&#39;</code> 更加符合 Python 习惯：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">print(<span class="string">'''"Oh no!" He exclaimed.</span></span><br><span class="line"><span class="string">"It's the blemange!"'''</span>)</span><br></pre></td></tr></table></figure>

<p>下面写法就太不 Python 风格：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">print(<span class="string">'"Oh no!" He exclaimed.\n'</span> +</span><br><span class="line">      <span class="string">'It\'s the blemange!"'</span>)</span><br></pre></td></tr></table></figure>

<h4 id="90-交换元素"><a href="#90-交换元素" class="headerlink" title="90 交换元素"></a>90 交换元素</h4><p>直接解包赋值，更加符合 Python 风格：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">a, b = <span class="number">1</span>, <span class="number">3</span></span><br><span class="line">a, b = b, a  <span class="comment"># 交换a,b</span></span><br></pre></td></tr></table></figure>

<p>不要再用临时变量 tmp ，这不符合 Python 习惯：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">tmp = a</span><br><span class="line">a = b</span><br><span class="line">b = tmp</span><br></pre></td></tr></table></figure>

<h4 id="91-join-串联"><a href="#91-join-串联" class="headerlink" title="91 join 串联"></a>91 join 串联</h4><p>串联字符串，更习惯使用 join：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">chars = [<span class="string">'P'</span>, <span class="string">'y'</span>, <span class="string">'t'</span>, <span class="string">'h'</span>, <span class="string">'o'</span>, <span class="string">'n'</span>]</span><br><span class="line">name = <span class="string">''</span>.join(chars)</span><br><span class="line">print(name)</span><br></pre></td></tr></table></figure>

<p>下面不符合 Python 习惯：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">name = <span class="string">''</span></span><br><span class="line"><span class="keyword">for</span> c <span class="keyword">in</span> chars:</span><br><span class="line">    name += c</span><br><span class="line">print(name)</span><br></pre></td></tr></table></figure>

<h4 id="92-列表生成式"><a href="#92-列表生成式" class="headerlink" title="92 列表生成式"></a>92 列表生成式</h4><p>列表生成式构建高效，符合 Python 习惯：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">data = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">8</span>]</span><br><span class="line">result = [i * <span class="number">2</span> <span class="keyword">for</span> i <span class="keyword">in</span> data <span class="keyword">if</span> i &amp; <span class="number">1</span>] <span class="comment"># 奇数则乘以2</span></span><br><span class="line">print(result) <span class="comment"># [2, 6, 10]</span></span><br></pre></td></tr></table></figure>

<p>下面写法不够 Pythoner：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">results = []</span><br><span class="line"><span class="keyword">for</span> e <span class="keyword">in</span> data:</span><br><span class="line">    <span class="keyword">if</span> e &amp; <span class="number">1</span>:</span><br><span class="line">        results.append(e*<span class="number">2</span>)</span><br><span class="line">print(results)</span><br></pre></td></tr></table></figure>

<h4 id="93-字典生成式"><a href="#93-字典生成式" class="headerlink" title="93 字典生成式"></a>93 字典生成式</h4><p>除了列表生成式，还有字典生成式：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">keys = [<span class="string">'a'</span>, <span class="string">'b'</span>, <span class="string">'c'</span>]</span><br><span class="line">values = [<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>]</span><br><span class="line"></span><br><span class="line">d = &#123;k: v <span class="keyword">for</span> k, v <span class="keyword">in</span> zip(keys, values)&#125;</span><br><span class="line">print(d)</span><br></pre></td></tr></table></figure>

<p>下面写法不太 Pythoner：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">d = &#123;&#125;</span><br><span class="line"><span class="keyword">for</span> k, v <span class="keyword">in</span> zip(keys, values):</span><br><span class="line">    d[k] = v</span><br><span class="line">print(d)</span><br></pre></td></tr></table></figure>

<h4 id="94-name-39-main-39-有啥用"><a href="#94-name-39-main-39-有啥用" class="headerlink" title="94 __name__ == &#39;__main__&#39;有啥用"></a>94 <code>__name__ == &#39;__main__&#39;</code>有啥用</h4><p>曾几何时，看这别人代码这么写，我们也就跟着这么用吧，其实还没有完全弄清楚这行到底干啥。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">mymain</span><span class="params">()</span>:</span></span><br><span class="line">    print(<span class="string">'Doing something in module'</span>, __name__)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">'__main__'</span>:</span><br><span class="line">    print(<span class="string">'Executed from command line'</span>)</span><br><span class="line">    mymain()</span><br></pre></td></tr></table></figure>

<p>加入上面脚本命名为 MyModule，不管在 vscode 还是 pycharm 直接启动，则直接打印出：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">Executed <span class="keyword">from</span> command line</span><br><span class="line">Doing something <span class="keyword">in</span> module __main__</span><br></pre></td></tr></table></figure>

<p>这并不奇怪，和我们预想一样，因为有无这句 <code>__main__</code> ，都会打印出这些。</p>
<p>但是当我们 <code>import MyModule</code> 时，如果没有这句，直接就打印出：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">In [<span class="number">2</span>]: <span class="keyword">import</span> MyModule</span><br><span class="line">Executed <span class="keyword">from</span> command line</span><br><span class="line">Doing something <span class="keyword">in</span> module MyModule</span><br></pre></td></tr></table></figure>

<p>只是导入就直接执行 mymain 函数，这不符合我们预期。</p>
<p>如果有主句，导入后符合预期：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">In [<span class="number">6</span>]: <span class="keyword">import</span> MyModule</span><br><span class="line"></span><br><span class="line">In [<span class="number">7</span>]: MyModule.mymain()</span><br><span class="line">Doing something <span class="keyword">in</span> module MyModule</span><br></pre></td></tr></table></figure>

<h4 id="95-字典默认值"><a href="#95-字典默认值" class="headerlink" title="95 字典默认值"></a>95 字典默认值</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">In[<span class="number">1</span>]: d = &#123;<span class="string">'a'</span>: <span class="number">1</span>, <span class="string">'b'</span>: <span class="number">3</span>&#125;</span><br><span class="line"></span><br><span class="line">In[<span class="number">2</span>]: d.get(<span class="string">'b'</span>, [])  <span class="comment"># 存在键 'b'</span></span><br><span class="line">Out[<span class="number">2</span>]: <span class="number">3</span></span><br><span class="line"></span><br><span class="line">In[<span class="number">3</span>]: d.get(<span class="string">'c'</span>, [])  <span class="comment"># 不存在键 'c'，返回[]</span></span><br><span class="line">Out[<span class="number">3</span>]: []</span><br></pre></td></tr></table></figure>

<h4 id="96-lambda-函数"><a href="#96-lambda-函数" class="headerlink" title="96 lambda 函数"></a>96 lambda 函数</h4><p>lambda 函数使用方便，主要由入参和返回值组成，被广泛使用在 max, map, reduce, filter 等函数的 key 参数中。</p>
<p>如下，求 x 中绝对值最大的元素，key 函数确定<code>abs(x)</code>作为比较大小的方法：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">x = [<span class="number">1</span>, <span class="number">3</span>, <span class="number">-5</span>]</span><br><span class="line">y = max(x, key=<span class="keyword">lambda</span> x: abs(x))</span><br><span class="line">print(y) <span class="comment"># -5</span></span><br></pre></td></tr></table></figure>

<h4 id="97-max"><a href="#97-max" class="headerlink" title="97 max"></a>97 max</h4><p>求 x 中绝对值最大的元素，key 函数确定<code>abs(x)</code>作为比较大小的方法：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">x = [<span class="number">1</span>, <span class="number">3</span>, <span class="number">-5</span>]</span><br><span class="line">y = max(x, key=<span class="keyword">lambda</span> x: abs(x))</span><br><span class="line">print(y) <span class="comment"># -5</span></span><br></pre></td></tr></table></figure>

<h4 id="98-map"><a href="#98-map" class="headerlink" title="98 map"></a>98 map</h4><p>map 函数映射 fun 到容器中每个元素，并返回迭代器 x</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">x = map(str, [<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>])</span><br><span class="line"><span class="keyword">for</span> e <span class="keyword">in</span> x:</span><br><span class="line">    print(e, type(e))</span><br></pre></td></tr></table></figure>

<p>下面写法不够 Pythoner</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">for</span> e <span class="keyword">in</span> [<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>]:</span><br><span class="line">    print(e, str(e)) <span class="comment"># '1','3','5'</span></span><br></pre></td></tr></table></figure>

<h4 id="99-reduce"><a href="#99-reduce" class="headerlink" title="99 reduce"></a>99 reduce</h4><p>reduce 是在 functools 中，第一个参数是函数，其必须含有 2 个参数，最后归约为一个标量。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> functools <span class="keyword">import</span> reduce</span><br><span class="line">x = [<span class="number">1</span>, <span class="number">3</span>, <span class="number">5</span>]</span><br><span class="line">y = reduce(<span class="keyword">lambda</span> p1, p2: p1*p2, x)</span><br><span class="line">print(y) <span class="comment"># 15</span></span><br></pre></td></tr></table></figure>

<p>下面写法不够 Pythoner:</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">y = <span class="number">1</span></span><br><span class="line"><span class="keyword">for</span> e <span class="keyword">in</span> x:</span><br><span class="line">    y *= e</span><br><span class="line">print(y)</span><br></pre></td></tr></table></figure>

<h4 id="100-filter"><a href="#100-filter" class="headerlink" title="100 filter"></a>100 filter</h4><p>使用 filter 找到满足 key 函数指定条件的元素，并返回迭代器</p>
<p>如下，使用 filter 找到所有奇数：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">x = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">5</span>]</span><br><span class="line">odd = filter(<span class="keyword">lambda</span> e: e % <span class="number">2</span>, x)</span><br><span class="line"><span class="keyword">for</span> e <span class="keyword">in</span> odd:  <span class="comment"># 找到奇数</span></span><br><span class="line">    print(e)</span><br></pre></td></tr></table></figure>

<p>还有另外一种方法，使用列表生成式，直接得到一个odd 容器，</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">odd = [e <span class="keyword">for</span> e <span class="keyword">in</span> x <span class="keyword">if</span> e % <span class="number">2</span>]</span><br><span class="line">print(odd) <span class="comment"># [1,3,5]</span></span><br></pre></td></tr></table></figure>

<p>下面写法最不符合 Python 习惯：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">odd = []</span><br><span class="line"><span class="keyword">for</span> e <span class="keyword">in</span> x:</span><br><span class="line">    <span class="keyword">if</span> e % <span class="number">2</span>:</span><br><span class="line">        odd.append(e)</span><br><span class="line">print(odd)  <span class="comment"># [1,3,5]</span></span><br></pre></td></tr></table></figure>



<p>转自公众号</p>
]]></content>
      <categories>
        <category>python</category>
      </categories>
      <tags>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title>python中时间、日期、时间戳之间的转换</title>
    <url>/2020/04/16/python%E4%B8%AD%E6%97%B6%E9%97%B4%E3%80%81%E6%97%A5%E6%9C%9F%E3%80%81%E6%97%B6%E9%97%B4%E6%88%B3%E4%B9%8B%E9%97%B4%E7%9A%84%E8%BD%AC%E6%8D%A2/</url>
    <content><![CDATA[<h3 id="python中时间、日期、时间戳的转换"><a href="#python中时间、日期、时间戳的转换" class="headerlink" title="python中时间、日期、时间戳的转换"></a>python中时间、日期、时间戳的转换</h3><ul>
<li>引入模块</li>
</ul>
<figure class="highlight xl"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="built_in">time</span>, datetime</span><br></pre></td></tr></table></figure>

<h4 id="1-将str类型时间转换为时间戳"><a href="#1-将str类型时间转换为时间戳" class="headerlink" title="1. 将str类型时间转换为时间戳"></a>1. 将str类型时间转换为时间戳</h4><a id="more"></a>

<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 字符类型的时间</span></span><br><span class="line">time_str = <span class="string">'2020-01-10 23:40:00'</span></span><br><span class="line"><span class="comment"># 转为时间数组</span></span><br><span class="line">time_tuple = time.strptime(time_str, <span class="string">"%Y-%m-%d %H:%M:%S"</span>)</span><br><span class="line">print(time_tuple)</span><br><span class="line"><span class="comment"># time_tuple可以调用tm_year等</span></span><br><span class="line">print(time_tuple.tm_year)</span><br><span class="line"><span class="comment"># 转为时间戳</span></span><br><span class="line">time_Stamp = int(time.mktime(time_tuple))</span><br><span class="line">print(time_Stamp)</span><br></pre></td></tr></table></figure>

<p>打印结果：</p>
<figure class="highlight routeros"><table><tr><td class="code"><pre><span class="line">time.struct_time(<span class="attribute">tm_year</span>=2020, <span class="attribute">tm_mon</span>=1, <span class="attribute">tm_mday</span>=10, <span class="attribute">tm_hour</span>=23, <span class="attribute">tm_min</span>=40, <span class="attribute">tm_sec</span>=0, <span class="attribute">tm_wday</span>=4, <span class="attribute">tm_yday</span>=10, <span class="attribute">tm_isdst</span>=-1)</span><br><span class="line">2020</span><br><span class="line">1578670800</span><br></pre></td></tr></table></figure>

<h4 id="2-更改str类型日期的显示格式"><a href="#2-更改str类型日期的显示格式" class="headerlink" title="2. 更改str类型日期的显示格式"></a>2. 更改str类型日期的显示格式</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">time_str = <span class="string">"2020-01-10 23:40:00"</span></span><br><span class="line"><span class="comment"># 转为时间元组</span></span><br><span class="line">time_tuple = time.strptime(time_str, <span class="string">"%Y-%m-%d %H:%M:%S"</span>)</span><br><span class="line">print(time_tuple)</span><br><span class="line"><span class="comment"># timeArray可以调用tm_year等</span></span><br><span class="line">print(time_tuple.tm_year)</span><br><span class="line"><span class="comment"># 转为时间戳</span></span><br><span class="line">time_Stamp = int(time.mktime(time_tuple))</span><br><span class="line">print(time_Stamp)</span><br><span class="line"></span><br><span class="line">time_Stamp = int(time.mktime(time.strptime(time_str, <span class="string">"%Y-%m-%d %H:%M:%S"</span>)))</span><br><span class="line">print(time_Stamp)</span><br></pre></td></tr></table></figure>

<p>打印结果：</p>
<figure class="highlight routeros"><table><tr><td class="code"><pre><span class="line">time.struct_time(<span class="attribute">tm_year</span>=2020, <span class="attribute">tm_mon</span>=1, <span class="attribute">tm_mday</span>=10, <span class="attribute">tm_hour</span>=23, <span class="attribute">tm_min</span>=40, <span class="attribute">tm_sec</span>=0, <span class="attribute">tm_wday</span>=4, <span class="attribute">tm_yday</span>=10, <span class="attribute">tm_isdst</span>=-1)</span><br><span class="line">2020</span><br><span class="line">1578670800</span><br><span class="line">1578670800</span><br></pre></td></tr></table></figure>

<h4 id="3-时间戳转换为指定格式的日期"><a href="#3-时间戳转换为指定格式的日期" class="headerlink" title="3. 时间戳转换为指定格式的日期"></a>3. 时间戳转换为指定格式的日期</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 使用time</span></span><br><span class="line">time_Stamp = <span class="number">1381419600</span></span><br><span class="line">time_tuple = time.localtime(time_Stamp)</span><br><span class="line">other_Style_Time = time.strftime(<span class="string">"%Y--%m--%d %H:%M:%S"</span>, time_tuple)</span><br><span class="line">print(other_Style_Time)   <span class="comment"># 2013--10--10 23:40:00</span></span><br><span class="line"><span class="comment"># 使用datetime</span></span><br><span class="line">time_Stamp = <span class="number">1381419600</span></span><br><span class="line">date = datetime.datetime.fromtimestamp(time_Stamp)</span><br><span class="line">other_Style_Time = date.strftime(<span class="string">"%Y--%m--%d %H:%M:%S"</span>)</span><br><span class="line">print(other_Style_Time)   <span class="comment"># 2013--10--10 23:40:00</span></span><br><span class="line"><span class="comment"># 使用datetime，指定utc时间，相差8小时</span></span><br><span class="line">time_Stamp = <span class="number">1381419600</span></span><br><span class="line">date = datetime.datetime.utcfromtimestamp(time_Stamp)</span><br><span class="line">other_Style_Time = date.strftime(<span class="string">"%Y--%m--%d %H:%M:%S"</span>)</span><br><span class="line">print(other_Style_Time)   <span class="comment"># 2013--10--10 15:40:00</span></span><br></pre></td></tr></table></figure>

<p>打印结果：</p>
<figure class="highlight angelscript"><table><tr><td class="code"><pre><span class="line"><span class="number">2013</span>-<span class="number">-10</span>-<span class="number">-10</span> <span class="number">23</span>:<span class="number">40</span>:<span class="number">00</span></span><br><span class="line"><span class="number">2013</span>-<span class="number">-10</span>-<span class="number">-10</span> <span class="number">23</span>:<span class="number">40</span>:<span class="number">00</span></span><br><span class="line"><span class="number">2013</span>-<span class="number">-10</span>-<span class="number">-10</span> <span class="number">15</span>:<span class="number">40</span>:<span class="number">00</span></span><br></pre></td></tr></table></figure>

<h4 id="4-获取当前时间并且用指定格式显示"><a href="#4-获取当前时间并且用指定格式显示" class="headerlink" title="4. 获取当前时间并且用指定格式显示"></a>4. 获取当前时间并且用指定格式显示</h4><ul>
<li>time获取当前时间戳</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">now = int(time.time()) <span class="comment"># 1587057143</span></span><br><span class="line">time_tuple = time.localtime(now)</span><br><span class="line">print(time_tuple)</span><br><span class="line">other_Style_Time = time.strftime(<span class="string">"%Y--%m--%d %H:%M:%S"</span>, time_tuple)</span><br><span class="line">print(other_Style_Time)</span><br></pre></td></tr></table></figure>

<p>打印结果：</p>
<figure class="highlight routeros"><table><tr><td class="code"><pre><span class="line">time.struct_time(<span class="attribute">tm_year</span>=2020, <span class="attribute">tm_mon</span>=4, <span class="attribute">tm_mday</span>=17, <span class="attribute">tm_hour</span>=1, <span class="attribute">tm_min</span>=14, <span class="attribute">tm_sec</span>=59, <span class="attribute">tm_wday</span>=4, <span class="attribute">tm_yday</span>=108, <span class="attribute">tm_isdst</span>=0)</span><br><span class="line">2020--04--17 01:14:59</span><br></pre></td></tr></table></figure>

<ul>
<li>datetime获取当前时间</li>
</ul>
<figure class="highlight perl"><table><tr><td class="code"><pre><span class="line">now = datetime.datetime.now()</span><br><span class="line"><span class="keyword">print</span>(now)</span><br><span class="line">other_Style_Time = now.strftime(<span class="string">"%Y--%m--%d %H:%M:%S"</span>)</span><br><span class="line"><span class="keyword">print</span>(other_Style_Time)</span><br></pre></td></tr></table></figure>

<p>打印结果：</p>
<figure class="highlight angelscript"><table><tr><td class="code"><pre><span class="line"><span class="number">2020</span><span class="number">-04</span><span class="number">-17</span> <span class="number">01</span>:<span class="number">17</span>:<span class="number">16.541920</span></span><br><span class="line"><span class="number">2020</span>-<span class="number">-04</span>-<span class="number">-17</span> <span class="number">01</span>:<span class="number">17</span>:<span class="number">16</span></span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>python</category>
      </categories>
      <tags>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title>pandas之Series</title>
    <url>/2020/04/15/pandas%E4%B9%8BSeries%E5%92%8CDataFrame/</url>
    <content><![CDATA[<h3 id="1-Series"><a href="#1-Series" class="headerlink" title="1.Series"></a>1.Series</h3><p>线性的数据结构, Series是一个一维数组,比列表多了索引的概念</p>
<p>必要条件</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br></pre></td></tr></table></figure>

<h4 id="1-1-创建一个Series数据"><a href="#1-1-创建一个Series数据" class="headerlink" title="1.1 创建一个Series数据"></a>1.1 创建一个Series数据</h4><ul>
<li>列表转换为Series</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">s = pd.Series([<span class="number">1997</span>, <span class="string">'zhang'</span>, <span class="string">'beijing'</span>, <span class="number">2020</span>])</span><br><span class="line">print(s)</span><br></pre></td></tr></table></figure>

<a id="more"></a>

<p>打印结果：</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="number">0</span>       <span class="number">1997</span></span><br><span class="line"><span class="number">1</span>      <span class="string">zhang</span></span><br><span class="line"><span class="number">2</span>    <span class="string">beijing</span></span><br><span class="line"><span class="number">3</span>       <span class="number">2020</span></span><br><span class="line"><span class="attr">dtype:</span> <span class="string">object</span></span><br></pre></td></tr></table></figure>

<ul>
<li>字典转换为Series</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">cities=&#123;<span class="string">'Beijing'</span>:<span class="number">55000</span>,<span class="string">'Shanghai'</span>:<span class="number">60000</span>,<span class="string">'shenzhen'</span>:<span class="number">50000</span>,<span class="string">'Hangzhou'</span>:<span class="number">20000</span>,<span class="string">'Guangzhou'</span>:<span class="number">45000</span>,<span class="string">'Suzhou'</span>:<span class="literal">None</span>&#125;</span><br><span class="line">apts=pd.Series(cities)</span><br><span class="line">print(apts)</span><br></pre></td></tr></table></figure>

<p>打印结果：</p>
<figure class="highlight properties"><table><tr><td class="code"><pre><span class="line"><span class="attr">Beijing</span>      <span class="string">55000.0</span></span><br><span class="line"><span class="attr">Shanghai</span>     <span class="string">60000.0</span></span><br><span class="line"><span class="attr">shenzhen</span>     <span class="string">50000.0</span></span><br><span class="line"><span class="attr">Hangzhou</span>     <span class="string">20000.0</span></span><br><span class="line"><span class="attr">Guangzhou</span>    <span class="string">45000.0</span></span><br><span class="line"><span class="attr">Suzhou</span>           <span class="string">NaN</span></span><br><span class="line"><span class="attr">dtype</span>: <span class="string">float64</span></span><br></pre></td></tr></table></figure>

<ul>
<li>用numpy ndarray构造一个Series<ul>
<li>numpy.random.rand(n)返回一个有n个元素的一维<code>ndarray</code>对象，随机样本位于[0, 1)中。</li>
<li>numpy.random.randn(n,m) 返回 n*m的ndarray对象，但不能用series转换</li>
<li>numpy.random.randn(n)返回一个有n个元素的一维<code>ndarray</code>对象,是从标准正态分布中返回n个样本值。</li>
<li>numpy.random.randn(n,m) 返回 n*m的ndarray对象，但不能用series转换</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line">num = pd.Series(np.random.randn(<span class="number">5</span>))</span><br><span class="line">num_abc = pd.Series(np.random.randn(<span class="number">5</span>), index=list(<span class="string">'abcde'</span>))</span><br><span class="line">print(num)</span><br><span class="line">print(num_abc)</span><br></pre></td></tr></table></figure>

<p>打印结果：</p>
<figure class="highlight angelscript"><table><tr><td class="code"><pre><span class="line"><span class="number">0</span>    <span class="number">2.421419</span></span><br><span class="line"><span class="number">1</span>   <span class="number">-0.809526</span></span><br><span class="line"><span class="number">2</span>    <span class="number">1.838546</span></span><br><span class="line"><span class="number">3</span>    <span class="number">0.837238</span></span><br><span class="line"><span class="number">4</span>    <span class="number">1.223676</span></span><br><span class="line">dtype: <span class="built_in">float</span>64</span><br><span class="line">a    <span class="number">1.440783</span></span><br><span class="line">b    <span class="number">0.195176</span></span><br><span class="line">c   <span class="number">-1.202885</span></span><br><span class="line">d   <span class="number">-0.315326</span></span><br><span class="line">e   <span class="number">-1.168833</span></span><br><span class="line">dtype: <span class="built_in">float</span>64</span><br></pre></td></tr></table></figure>


<h4 id="1-2-指定index"><a href="#1-2-指定index" class="headerlink" title="1.2 指定index"></a>1.2 指定index</h4><ul>
<li>默认用0到n-1来作为Series的index, 但也可以自己指定index</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">s = pd.Series([<span class="number">5664</span>, <span class="string">'guizhou'</span>, <span class="string">'beijing'</span>, <span class="number">2020</span>, <span class="string">'China'</span>, <span class="number">990</span>], index=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>])</span><br><span class="line">print(s)</span><br></pre></td></tr></table></figure>

<p>打印结果：</p>
<figure class="highlight properties"><table><tr><td class="code"><pre><span class="line"><span class="attr">1</span>       <span class="string">5664</span></span><br><span class="line"><span class="attr">2</span>    <span class="string">guizhou</span></span><br><span class="line"><span class="attr">3</span>    <span class="string">beijing</span></span><br><span class="line"><span class="attr">a</span>       <span class="string">2020</span></span><br><span class="line"><span class="attr">b</span>      <span class="string">China</span></span><br><span class="line"><span class="attr">c</span>        <span class="string">990</span></span><br><span class="line"><span class="attr">dtype</span>: <span class="string">object</span></span><br></pre></td></tr></table></figure>

<h4 id="1-3-访问数据"><a href="#1-3-访问数据" class="headerlink" title="1.3 访问数据"></a>1.3 访问数据</h4><ul>
<li>访问其中数据(可以像对待一个list一样对待一个Series,完成各种切片的操作)</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">s = pd.Series([<span class="number">9</span>, <span class="string">'zheng'</span>, <span class="string">'beijing'</span>, <span class="number">128</span>, <span class="string">'usa'</span>, <span class="number">990</span>])</span><br><span class="line">print(s[<span class="number">1</span>:<span class="number">3</span>])    <span class="comment"># 选择第1到3个, 包左不包右</span></span><br><span class="line">print(s[[<span class="number">1</span>,<span class="number">3</span>]])  <span class="comment"># 选择第1个和第3个</span></span><br><span class="line">print(s[:<span class="number">-1</span>])    <span class="comment"># 选择第1个到倒数第1个</span></span><br></pre></td></tr></table></figure>

<p>打印结果：</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="number">1</span>      <span class="string">zheng</span> </span><br><span class="line"><span class="number">2</span>    <span class="string">beijing</span></span><br><span class="line"><span class="attr">dtype:</span> <span class="string">object</span></span><br><span class="line"><span class="number">1</span>    <span class="string">zheng</span></span><br><span class="line"><span class="number">3</span>      <span class="number">128</span></span><br><span class="line"><span class="attr">dtype:</span> <span class="string">object</span></span><br><span class="line"><span class="number">0</span>          <span class="number">9</span></span><br><span class="line"><span class="number">1</span>      <span class="string">zheng</span></span><br><span class="line"><span class="number">2</span>    <span class="string">beijing</span></span><br><span class="line"><span class="number">3</span>        <span class="number">128</span></span><br><span class="line"><span class="number">4</span>        <span class="string">usa</span></span><br><span class="line"><span class="attr">dtype:</span> <span class="string">object</span></span><br></pre></td></tr></table></figure>

<p>​    </p>
<h4 id="1-4-操作数据"><a href="#1-4-操作数据" class="headerlink" title="1.4 操作数据"></a>1.4 操作数据</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">s = pd.Series([<span class="number">9</span>, <span class="string">'zheng'</span>, <span class="string">'beijing'</span>, <span class="number">128</span>, <span class="string">'usa'</span>, <span class="number">990</span>], index=[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="string">'e'</span>,<span class="string">'f'</span>,<span class="string">'g'</span>])</span><br><span class="line">sum0 = s[<span class="number">1</span>:<span class="number">3</span>] + s[<span class="number">1</span>:<span class="number">3</span>]</span><br><span class="line">sum1 = s[<span class="number">1</span>:<span class="number">4</span>] + s[<span class="number">1</span>:<span class="number">4</span>]</span><br><span class="line">sum2 = s[<span class="number">1</span>:<span class="number">3</span>] + s[<span class="number">1</span>:<span class="number">4</span>]</span><br><span class="line">sum3 = s[:<span class="number">3</span>] + s[<span class="number">1</span>:]</span><br><span class="line">print(sum0)</span><br><span class="line">print(sum1)</span><br><span class="line">print(sum2)</span><br><span class="line">print(sum3)</span><br></pre></td></tr></table></figure>

<p>打印结果：</p>
<figure class="highlight properties"><table><tr><td class="code"><pre><span class="line"><span class="attr">2</span>        <span class="string">zhengzheng</span></span><br><span class="line"><span class="attr">3</span>    <span class="string">beijingbeijing</span></span><br><span class="line"><span class="attr">dtype</span>: <span class="string">object      </span></span><br><span class="line"><span class="attr">2</span>        <span class="string">zhengzheng</span></span><br><span class="line"><span class="attr">3</span>    <span class="string">beijingbeijing</span></span><br><span class="line"><span class="attr">e</span>               <span class="string">256</span></span><br><span class="line"><span class="attr">dtype</span>: <span class="string">object</span></span><br><span class="line"><span class="attr">2</span>        <span class="string">zhengzheng</span></span><br><span class="line"><span class="attr">3</span>    <span class="string">beijingbeijing</span></span><br><span class="line"><span class="attr">e</span>               <span class="string">NaN</span></span><br><span class="line"><span class="attr">dtype</span>: <span class="string">object</span></span><br><span class="line"><span class="attr">1</span>               <span class="string">NaN</span></span><br><span class="line"><span class="attr">2</span>        <span class="string">zhengzheng</span></span><br><span class="line"><span class="attr">3</span>    <span class="string">beijingbeijing</span></span><br><span class="line"><span class="attr">e</span>               <span class="string">NaN</span></span><br><span class="line"><span class="attr">f</span>               <span class="string">NaN</span></span><br><span class="line"><span class="attr">g</span>               <span class="string">NaN</span></span><br><span class="line"><span class="attr">dtype</span>: <span class="string">object</span></span><br></pre></td></tr></table></figure>

<h4 id="1-5-查找-通过索引"><a href="#1-5-查找-通过索引" class="headerlink" title="1.5 查找(通过索引)"></a>1.5 查找(通过索引)</h4><ul>
<li>是否存在</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">s = &#123;<span class="string">"ton"</span>: <span class="number">20</span>, <span class="string">"mary"</span>: <span class="number">18</span>, <span class="string">"jack"</span>: <span class="number">19</span>, <span class="string">"jim"</span>: <span class="number">22</span>, <span class="string">"lj"</span>: <span class="number">24</span>, <span class="string">"car"</span>: <span class="literal">None</span>&#125;</span><br><span class="line">sa = pd.Series(s)</span><br><span class="line">print(<span class="string">'mary'</span> <span class="keyword">in</span> sa)</span><br><span class="line">print(<span class="number">20</span> <span class="keyword">in</span> sa)</span><br></pre></td></tr></table></figure>

<p>打印结果：</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="literal">True</span></span><br><span class="line"><span class="literal">False</span></span><br></pre></td></tr></table></figure>

<ul>
<li>范围查找</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">s = &#123;<span class="string">"ton"</span>: <span class="number">20</span>, <span class="string">"mary"</span>: <span class="number">18</span>, <span class="string">"jack"</span>: <span class="number">19</span>, <span class="string">"jim"</span>: <span class="number">22</span>, <span class="string">"lj"</span>: <span class="number">24</span>, <span class="string">"car"</span>: <span class="literal">None</span>&#125;</span><br><span class="line">sa = pd.Series(s)</span><br><span class="line">print(sa[sa&gt;<span class="number">19</span>])</span><br></pre></td></tr></table></figure>

<p>打印结果：</p>
<figure class="highlight angelscript"><table><tr><td class="code"><pre><span class="line">ton    <span class="number">20.0</span></span><br><span class="line">jim    <span class="number">22.0</span></span><br><span class="line">lj     <span class="number">24.0</span></span><br><span class="line">dtype: <span class="built_in">float</span>64</span><br></pre></td></tr></table></figure>

<ul>
<li>中位数</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">s = &#123;<span class="string">"ton"</span>: <span class="number">20</span>, <span class="string">"mary"</span>: <span class="number">18</span>, <span class="string">"jack"</span>: <span class="number">19</span>, <span class="string">"jim"</span>: <span class="number">22</span>, <span class="string">"lj"</span>: <span class="number">24</span>, <span class="string">"car"</span>: <span class="literal">None</span>&#125;</span><br><span class="line">sa = pd.Series(s,)</span><br><span class="line">print(sa.median()) <span class="comment"># 20</span></span><br></pre></td></tr></table></figure>

<ul>
<li>判断是否大于中位数</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">s = &#123;<span class="string">"ton"</span>: <span class="number">20</span>, <span class="string">"mary"</span>: <span class="number">18</span>, <span class="string">"jack"</span>: <span class="number">19</span>, <span class="string">"jim"</span>: <span class="number">22</span>, <span class="string">"lj"</span>: <span class="number">24</span>, <span class="string">"car"</span>: <span class="literal">None</span>&#125;</span><br><span class="line">sa = pd.Series(s)</span><br><span class="line">print(sa&gt;sa.median())</span><br></pre></td></tr></table></figure>

<p>打印结果：</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="string">ton</span>     <span class="literal">False</span></span><br><span class="line"><span class="string">mary</span>    <span class="literal">False</span></span><br><span class="line"><span class="string">jack</span>    <span class="literal">False</span></span><br><span class="line"><span class="string">jim</span>      <span class="literal">True</span></span><br><span class="line"><span class="string">lj</span>       <span class="literal">True</span></span><br><span class="line"><span class="string">car</span>     <span class="literal">False</span></span><br><span class="line"><span class="attr">dtype:</span> <span class="string">bool</span></span><br></pre></td></tr></table></figure>

<ul>
<li>找出大于中位数的数</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">s = &#123;<span class="string">"ton"</span>: <span class="number">20</span>, <span class="string">"mary"</span>: <span class="number">18</span>, <span class="string">"jack"</span>: <span class="number">19</span>, <span class="string">"jim"</span>: <span class="number">22</span>, <span class="string">"lj"</span>: <span class="number">24</span>, <span class="string">"car"</span>: <span class="literal">None</span>&#125;</span><br><span class="line">sa = pd.Series(s)</span><br><span class="line">print(sa[sa &gt; sa.median()])</span><br></pre></td></tr></table></figure>

<p>打印结果：</p>
<figure class="highlight angelscript"><table><tr><td class="code"><pre><span class="line">jim    <span class="number">22.0</span></span><br><span class="line">lj     <span class="number">24.0</span></span><br><span class="line">dtype: <span class="built_in">float</span>64</span><br></pre></td></tr></table></figure>

<h4 id="1-6-Series赋值"><a href="#1-6-Series赋值" class="headerlink" title="1.6 Series赋值"></a>1.6 Series赋值</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">s = &#123;<span class="string">"ton"</span>: <span class="number">20</span>, <span class="string">"mary"</span>: <span class="number">18</span>, <span class="string">"jack"</span>: <span class="number">19</span>, <span class="string">"jim"</span>: <span class="number">22</span>, <span class="string">"lj"</span>: <span class="number">24</span>, <span class="string">"car"</span>: <span class="literal">None</span>&#125;</span><br><span class="line">sa = pd.Series(s, name=<span class="string">"age"</span>)</span><br><span class="line">print(s)</span><br><span class="line">print(<span class="string">'----------------'</span>)</span><br><span class="line">sa[<span class="string">'ton'</span>] = <span class="number">99</span></span><br><span class="line">print(sa)</span><br></pre></td></tr></table></figure>

<p>打印结果：</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="string">&#123;'ton':</span> <span class="number">20</span><span class="string">,</span> <span class="attr">'mary':</span> <span class="number">18</span><span class="string">,</span> <span class="attr">'jack':</span> <span class="number">19</span><span class="string">,</span> <span class="attr">'jim':</span> <span class="number">22</span><span class="string">,</span> <span class="attr">'lj':</span> <span class="number">24</span><span class="string">,</span> <span class="attr">'car':</span> <span class="string">None&#125;</span></span><br><span class="line"><span class="string">----------------</span></span><br><span class="line"><span class="string">ton</span>     <span class="number">99.0</span></span><br><span class="line"><span class="string">mary</span>    <span class="number">18.0</span></span><br><span class="line"><span class="string">jack</span>    <span class="number">19.0</span></span><br><span class="line"><span class="string">jim</span>     <span class="number">22.0</span></span><br><span class="line"><span class="string">lj</span>      <span class="number">24.0</span></span><br><span class="line"><span class="string">car</span>      <span class="string">NaN</span></span><br><span class="line"><span class="attr">Name:</span> <span class="string">age,</span> <span class="attr">dtype:</span> <span class="string">float64</span></span><br></pre></td></tr></table></figure>

<ul>
<li>条件赋值</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">s = &#123;<span class="string">"ton"</span>: <span class="number">20</span>, <span class="string">"mary"</span>: <span class="number">18</span>, <span class="string">"jack"</span>: <span class="number">19</span>, <span class="string">"jim"</span>: <span class="number">22</span>, <span class="string">"lj"</span>: <span class="number">24</span>, <span class="string">"car"</span>: <span class="literal">None</span>&#125;</span><br><span class="line">sa = pd.Series(s)</span><br><span class="line">print(s) <span class="comment"># 打印原字典</span></span><br><span class="line">print(<span class="string">'---------------------'</span>)   <span class="comment"># 分割线</span></span><br><span class="line">sa[sa&gt;<span class="number">19</span>] = <span class="number">88</span> <span class="comment"># 将所有大于19的同一改为88</span></span><br><span class="line">print(sa) <span class="comment"># 打印更改之后的数据</span></span><br><span class="line">print(<span class="string">'---------------------'</span>)   <span class="comment"># 分割线</span></span><br><span class="line">print(sa / <span class="number">2</span>)<span class="comment"># 将所有数据除以2</span></span><br></pre></td></tr></table></figure>

<p>打印结果：</p>
<figure class="highlight yaml"><table><tr><td class="code"><pre><span class="line"><span class="string">&#123;'ton':</span> <span class="number">20</span><span class="string">,</span> <span class="attr">'mary':</span> <span class="number">18</span><span class="string">,</span> <span class="attr">'jack':</span> <span class="number">19</span><span class="string">,</span> <span class="attr">'jim':</span> <span class="number">22</span><span class="string">,</span> <span class="attr">'lj':</span> <span class="number">24</span><span class="string">,</span> <span class="attr">'car':</span> <span class="string">None&#125;</span></span><br><span class="line"><span class="string">---------------------</span></span><br><span class="line"><span class="string">ton</span>     <span class="number">88.0</span></span><br><span class="line"><span class="string">mary</span>    <span class="number">18.0</span></span><br><span class="line"><span class="string">jack</span>    <span class="number">19.0</span></span><br><span class="line"><span class="string">jim</span>     <span class="number">88.0</span></span><br><span class="line"><span class="string">lj</span>      <span class="number">88.0</span></span><br><span class="line"><span class="string">car</span>      <span class="string">NaN</span></span><br><span class="line"><span class="attr">dtype:</span> <span class="string">float64</span></span><br><span class="line"><span class="string">---------------------</span></span><br><span class="line"><span class="string">ton</span>     <span class="number">44.0</span></span><br><span class="line"><span class="string">mary</span>     <span class="number">9.0</span></span><br><span class="line"><span class="string">jack</span>     <span class="number">9.5</span></span><br><span class="line"><span class="string">jim</span>     <span class="number">44.0</span></span><br><span class="line"><span class="string">lj</span>      <span class="number">44.0</span></span><br><span class="line"><span class="string">car</span>      <span class="string">NaN</span></span><br><span class="line"><span class="attr">dtype:</span> <span class="string">float64</span></span><br></pre></td></tr></table></figure>



<h3 id="2-DataFrame"><a href="#2-DataFrame" class="headerlink" title="2.DataFrame"></a>2.DataFrame</h3><p>DataFrame 类型类似于<strong>数据库表结构</strong>的数据结构，其含有行索引和列索引，可以将DataFrame 想成是由相同索引的Series组成的Dict类型。在其底层是通过二维以及一维的数据块实现。DataFrame即有行索引也有列索引，可以被看做是由Series组成的字典。</p>
<h4 id="2-1-创建"><a href="#2-1-创建" class="headerlink" title="2.1 创建"></a>2.1 创建</h4><ul>
<li>通过列表创建</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">df = DataFrame([</span><br><span class="line">[<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>,<span class="string">'d'</span>],</span><br><span class="line">[<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>]</span><br><span class="line">])</span><br><span class="line">print(df)</span><br></pre></td></tr></table></figure>

<p>打印结果：</p>
<figure class="highlight angelscript"><table><tr><td class="code"><pre><span class="line">   <span class="number">0</span>  <span class="number">1</span>  <span class="number">2</span>  <span class="number">3</span></span><br><span class="line"><span class="number">0</span>  a  b  c  d</span><br><span class="line"><span class="number">1</span>  <span class="number">1</span>  <span class="number">2</span>  <span class="number">3</span>  <span class="number">4</span></span><br></pre></td></tr></table></figure>



<ul>
<li>通过字典创建</li>
</ul>
<figure class="highlight prolog"><table><tr><td class="code"><pre><span class="line">data = &#123;</span><br><span class="line">    <span class="string">'state'</span>:[<span class="string">'ya'</span>,<span class="string">'yaho'</span>,<span class="string">'yahho'</span>,<span class="string">'Nevada'</span>,<span class="string">'mikasa'</span>],</span><br><span class="line">    <span class="string">'year'</span>:[<span class="number">2000</span>,<span class="number">2001</span>,<span class="number">2002</span>,<span class="number">2001</span>,<span class="number">2002</span>],</span><br><span class="line">    <span class="string">'pop'</span>:[<span class="number">1.5</span>,<span class="number">1.7</span>,<span class="number">3.6</span>,<span class="number">2.4</span>,<span class="number">2.9</span>]</span><br><span class="line">&#125;</span><br><span class="line">df = pd.<span class="symbol">DataFrame</span>(data)</span><br><span class="line">print(df)</span><br></pre></td></tr></table></figure>

<p>打印结果：</p>
<figure class="highlight lsl"><table><tr><td class="code"><pre><span class="line">    <span class="section">state</span>  year  pop</span><br><span class="line"><span class="number">0</span>      ya  <span class="number">2000</span>  <span class="number">1.5</span></span><br><span class="line"><span class="number">1</span>    yaho  <span class="number">2001</span>  <span class="number">1.7</span></span><br><span class="line"><span class="number">2</span>   yahho  <span class="number">2002</span>  <span class="number">3.6</span></span><br><span class="line"><span class="number">3</span>  Nevada  <span class="number">2001</span>  <span class="number">2.4</span></span><br><span class="line"><span class="number">4</span>  mikasa  <span class="number">2002</span>  <span class="number">2.9</span></span><br></pre></td></tr></table></figure>

<ul>
<li>DataFrame的行索引是index，列索引是columns，我们可以在创建DataFrame时指定索引的值：<ul>
<li>指定<strong>行索引</strong>时的个数须与行数保持一致，否则会报错</li>
<li>指定<strong>列索引</strong>时的个数<strong>多于</strong>列数时，多的列填充<code>NaN</code>;<strong>少于</strong>列数时，少的列将被<strong>去除</strong></li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">data = &#123;</span><br><span class="line">    <span class="string">'state'</span>:[<span class="string">'ya'</span>,<span class="string">'yaho'</span>,<span class="string">'yahho'</span>,<span class="string">'Nevada'</span>,<span class="string">'mikasa'</span>],</span><br><span class="line">    <span class="string">'year'</span>:[<span class="number">2000</span>,<span class="number">2001</span>,<span class="number">2002</span>,<span class="number">2001</span>,<span class="number">2002</span>],</span><br><span class="line">    <span class="string">'pop'</span>:[<span class="number">1.5</span>,<span class="number">1.7</span>,<span class="number">3.6</span>,<span class="number">2.4</span>,<span class="number">2.9</span>]</span><br><span class="line">&#125;</span><br><span class="line">df = pd.DataFrame(data,index=[<span class="string">'one'</span>,<span class="string">'two'</span>,<span class="string">'three'</span>,<span class="string">'four'</span>,<span class="string">'five'</span>],columns=[<span class="string">'year'</span>,<span class="string">'state'</span>,<span class="string">'pop'</span>,<span class="string">'debt'</span>])</span><br><span class="line">print(df)</span><br></pre></td></tr></table></figure>

<p>打印结果：</p>
<figure class="highlight lsl"><table><tr><td class="code"><pre><span class="line">       year   <span class="section">state</span>  pop debt</span><br><span class="line">one    <span class="number">2000</span>      ya  <span class="number">1.5</span>  NaN</span><br><span class="line">two    <span class="number">2001</span>    yaho  <span class="number">1.7</span>  NaN</span><br><span class="line">three  <span class="number">2002</span>   yahho  <span class="number">3.6</span>  NaN</span><br><span class="line">four   <span class="number">2001</span>  Nevada  <span class="number">2.4</span>  NaN</span><br><span class="line">five   <span class="number">2002</span>  mikasa  <span class="number">2.9</span>  NaN</span><br></pre></td></tr></table></figure>

<ul>
<li>使用嵌套字典也可以创建DataFrame，此时外层字典的键作为列索引，内层键则作为行索引:</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">data = &#123;<span class="string">'Nevada'</span>:&#123;<span class="number">2001</span>:<span class="number">2.4</span>,<span class="number">2002</span>:<span class="number">2.9</span>&#125;,<span class="string">'Ohio'</span>:&#123;<span class="number">2000</span>:<span class="number">1.5</span>,<span class="number">2001</span>:<span class="number">1.7</span>,<span class="number">2002</span>:<span class="number">3.6</span>&#125;&#125;</span><br><span class="line">df = pd.DataFrame(data)</span><br><span class="line">print(df)</span><br></pre></td></tr></table></figure>

<p>打印结果：</p>
<figure class="highlight angelscript"><table><tr><td class="code"><pre><span class="line">      Nevada  Ohio</span><br><span class="line"><span class="number">2001</span>     <span class="number">2.4</span>   <span class="number">1.7</span></span><br><span class="line"><span class="number">2002</span>     <span class="number">2.9</span>   <span class="number">3.6</span></span><br><span class="line"><span class="number">2000</span>     NaN   <span class="number">1.5</span></span><br></pre></td></tr></table></figure>

<ul>
<li>我们可以用index，columns，values来访问DataFrame的行索引，列索引以及数据值，数据值返回的是一个二维的ndarray</li>
</ul>
<figure class="highlight stylus"><table><tr><td class="code"><pre><span class="line">data = &#123;<span class="string">'Nevada'</span>:&#123;<span class="number">2001</span>:<span class="number">2.4</span>,<span class="number">2002</span>:<span class="number">2.9</span>&#125;,<span class="string">'Ohio'</span>:&#123;<span class="number">2000</span>:<span class="number">1.5</span>,<span class="number">2001</span>:<span class="number">1.7</span>,<span class="number">2002</span>:<span class="number">3.6</span>&#125;&#125;</span><br><span class="line">df = pd.DataFrame(data)</span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(df)</span></span></span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(df.values)</span></span></span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(df.index)</span></span></span><br><span class="line"><span class="function"><span class="title">print</span><span class="params">(df.columns)</span></span></span><br></pre></td></tr></table></figure>

<p>打印结果：</p>
<figure class="highlight angelscript"><table><tr><td class="code"><pre><span class="line">      Nevada  Ohio</span><br><span class="line"><span class="number">2001</span>     <span class="number">2.4</span>   <span class="number">1.7</span></span><br><span class="line"><span class="number">2002</span>     <span class="number">2.9</span>   <span class="number">3.6</span></span><br><span class="line"><span class="number">2000</span>     NaN   <span class="number">1.5</span></span><br><span class="line">[[<span class="number">2.4</span> <span class="number">1.7</span>]</span><br><span class="line"> [<span class="number">2.9</span> <span class="number">3.6</span>]</span><br><span class="line"> [nan <span class="number">1.5</span>]]</span><br><span class="line">Int64Index([<span class="number">2001</span>, <span class="number">2002</span>, <span class="number">2000</span>], dtype=<span class="string">'int64'</span>)</span><br><span class="line">Index([<span class="string">'Nevada'</span>, <span class="string">'Ohio'</span>], dtype=<span class="string">'object'</span>)</span><br></pre></td></tr></table></figure>

<h4 id="2-2-读取文件"><a href="#2-2-读取文件" class="headerlink" title="2.2 读取文件"></a>2.2 读取文件</h4><p>读取文件生成DataFrame最常用的是read_csv,read_table方法。该方法中几个重要的参数如下所示：</p>
<table>
<thead>
<tr>
<th>参数</th>
<th align="center">描述</th>
</tr>
</thead>
<tbody><tr>
<td>header</td>
<td align="center">指定第几行作为列名(忽略注解行)，如果没有指定列名，默认header=0; 如果指定了列名header=None</td>
</tr>
<tr>
<td>index_col</td>
<td align="center">默认作为索引的为第一列，可以设为index_col为-1，表明没有索引列</td>
</tr>
<tr>
<td>nrows</td>
<td align="center">表明读取的行数</td>
</tr>
<tr>
<td>sep或delimiter</td>
<td align="center">分隔符，read_csv默认是逗号，而read_table默认是制表符\t</td>
</tr>
<tr>
<td>encoding</td>
<td align="center">编码格式</td>
</tr>
</tbody></table>
<p>如：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">df=pd.read_csv(<span class="string">'data1.csv'</span>, sep=<span class="string">','</span>,encoding=<span class="string">'utf-8'</span>,header=<span class="literal">None</span>)</span><br></pre></td></tr></table></figure>

<p>其他创建DataFrame的方式有很多，比如我们可以通过读取mysql或者mongoDB来生成，也可以读取json文件等等，这里就不再介绍。</p>
]]></content>
      <categories>
        <category>pandas</category>
      </categories>
      <tags>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title>pandas之reindex</title>
    <url>/2020/04/15/pandas%E4%B9%8Breindex/</url>
    <content><![CDATA[<h3 id="reindex重新索引"><a href="#reindex重新索引" class="headerlink" title="reindex重新索引"></a>reindex重新索引</h3><p>reindex()是pandas对象的一个重要方法，其作用是创建一个新索引的新对象。</p>
<p>必要操作：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> pandas <span class="keyword">as</span> pd</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">from</span> numpy <span class="keyword">import</span> *</span><br></pre></td></tr></table></figure>

<h4 id="1、对Series对象重新索引"><a href="#1、对Series对象重新索引" class="headerlink" title="1、对Series对象重新索引"></a>1、对Series对象重新索引</h4><a id="more"></a>

<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">test1=pd.Series([<span class="number">1</span>,<span class="number">7</span>,<span class="number">3</span>,<span class="number">9</span>],index=[<span class="string">'d'</span>,<span class="string">'c'</span>,<span class="string">'a'</span>,<span class="string">'f'</span>])</span><br><span class="line">print(test1)</span><br></pre></td></tr></table></figure>

<p>代码结果：</p>
<figure class="highlight angelscript"><table><tr><td class="code"><pre><span class="line">d    <span class="number">1</span></span><br><span class="line">c    <span class="number">7</span></span><br><span class="line">a    <span class="number">3</span></span><br><span class="line">f    <span class="number">9</span></span><br><span class="line">dtype: <span class="built_in">int</span>64</span><br></pre></td></tr></table></figure>

<ul>
<li>调用<strong>reindex</strong> 将会重新排序，缺失值则用NaN填补(索引值不变，如：a:3,c:7)</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">test2=test1.reindex([<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>,<span class="string">'d'</span>,<span class="string">'e'</span>,<span class="string">'f'</span>])</span><br></pre></td></tr></table></figure>

<p>代码结果：</p>
<figure class="highlight properties"><table><tr><td class="code"><pre><span class="line"><span class="attr">a</span>    <span class="string">3.0</span></span><br><span class="line"><span class="attr">b</span>    <span class="string">NaN</span></span><br><span class="line"><span class="attr">c</span>    <span class="string">7.0</span></span><br><span class="line"><span class="attr">d</span>    <span class="string">1.0</span></span><br><span class="line"><span class="attr">e</span>    <span class="string">NaN</span></span><br><span class="line"><span class="attr">f</span>    <span class="string">9.0</span></span><br><span class="line"><span class="attr">dtype</span>: <span class="string">float64</span></span><br></pre></td></tr></table></figure>

<ul>
<li>传入<strong>method=” “</strong>重新索引时选择插值处理方式：<ul>
<li>method=’ffill’或’pad 前向填充</li>
<li>method=’bfill’或’backfill 后向填充</li>
</ul>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 前向填充</span></span><br><span class="line">test3=pd.Series([<span class="string">'blue'</span>,<span class="string">'red'</span>,<span class="string">'black'</span>],index=[<span class="number">0</span>,<span class="number">2</span>,<span class="number">4</span>])</span><br><span class="line">test4=test3.reindex(range(<span class="number">6</span>),method=<span class="string">'ffill'</span>)</span><br><span class="line">print(test4)</span><br><span class="line"><span class="comment"># 后向填充</span></span><br><span class="line">test3=pd.Series([<span class="string">'blue'</span>,<span class="string">'red'</span>,<span class="string">'black'</span>],index=[<span class="number">0</span>,<span class="number">2</span>,<span class="number">4</span>])</span><br><span class="line">test4=test3.reindex(range(<span class="number">6</span>),method=<span class="string">'bfill'</span>)</span><br><span class="line">print(test4)</span><br></pre></td></tr></table></figure>

<p>代码结果：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 前向填充</span></span><br><span class="line"><span class="number">0</span>     blue</span><br><span class="line"><span class="number">1</span>     blue</span><br><span class="line"><span class="number">2</span>      red</span><br><span class="line"><span class="number">3</span>      red</span><br><span class="line"><span class="number">4</span>    black</span><br><span class="line"><span class="number">5</span>    black</span><br><span class="line">dtype: object</span><br><span class="line"><span class="comment"># 后向填充</span></span><br><span class="line"><span class="number">0</span>     blue</span><br><span class="line"><span class="number">1</span>      red</span><br><span class="line"><span class="number">2</span>      red</span><br><span class="line"><span class="number">3</span>    black</span><br><span class="line"><span class="number">4</span>    black</span><br><span class="line"><span class="number">5</span>      NaN</span><br><span class="line">dtype: object</span><br></pre></td></tr></table></figure>



<h3 id="2、对DataFrame对象重新索引"><a href="#2、对DataFrame对象重新索引" class="headerlink" title="2、对DataFrame对象重新索引"></a>2、对DataFrame对象重新索引</h3><p>对于DataFrame对象，reindex能修改行索引和列索引。</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">df1=pd.DataFrame(np.arange(<span class="number">9</span>).reshape(<span class="number">3</span>,<span class="number">3</span>),index=[<span class="string">'a'</span>,<span class="string">'c'</span>,<span class="string">'d'</span>],columns=[<span class="string">'one'</span>,<span class="string">'two'</span>,<span class="string">'four'</span>])</span><br><span class="line">print(df1)</span><br></pre></td></tr></table></figure>

<p>代码结果：</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">   one  two  four</span><br><span class="line">a    <span class="number">0</span>    <span class="number">1</span>     <span class="number">2</span></span><br><span class="line">c    <span class="number">3</span>    <span class="number">4</span>     <span class="number">5</span></span><br><span class="line">d    <span class="number">6</span>    <span class="number">7</span>     <span class="number">8</span></span><br></pre></td></tr></table></figure>

<ul>
<li>默认对索引重新排序</li>
</ul>
<p>只传入一个序列不能重新排序列索引(即只重新排序行索引<code>index</code>)</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">df1=pd.DataFrame(np.arange(<span class="number">9</span>).reshape(<span class="number">3</span>,<span class="number">3</span>),index=[<span class="string">'a'</span>,<span class="string">'c'</span>,<span class="string">'d'</span>],columns=[<span class="string">'one'</span>,<span class="string">'two'</span>,<span class="string">'four'</span>])</span><br><span class="line">df2 = df1.reindex([<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>,<span class="string">'d'</span>])</span><br><span class="line">print(df2)</span><br></pre></td></tr></table></figure>

<p>代码结果：</p>
<figure class="highlight angelscript"><table><tr><td class="code"><pre><span class="line">   one  two  four</span><br><span class="line">a  <span class="number">0.0</span>  <span class="number">1.0</span>   <span class="number">2.0</span></span><br><span class="line">b  NaN  NaN   NaN</span><br><span class="line">c  <span class="number">3.0</span>  <span class="number">4.0</span>   <span class="number">5.0</span></span><br><span class="line">d  <span class="number">6.0</span>  <span class="number">7.0</span>   <span class="number">8.0</span></span><br></pre></td></tr></table></figure>

<p>  同时修改行索引和列索引</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">df1=pd.DataFrame(np.arange(<span class="number">9</span>).reshape(<span class="number">3</span>,<span class="number">3</span>),index=[<span class="string">'a'</span>,<span class="string">'c'</span>,<span class="string">'d'</span>],columns=[<span class="string">'one'</span>,<span class="string">'two'</span>,<span class="string">'four'</span>])</span><br><span class="line">df2 = df1.reindex(index=[<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>,<span class="string">'d'</span>],columns=[<span class="string">'one'</span>,<span class="string">'two'</span>,<span class="string">'three'</span>,<span class="string">'four'</span>])</span><br><span class="line">print(df2)</span><br></pre></td></tr></table></figure>

<p>代码结果：</p>
<figure class="highlight angelscript"><table><tr><td class="code"><pre><span class="line">   one  two  three  four</span><br><span class="line">a  <span class="number">0.0</span>  <span class="number">1.0</span>    NaN   <span class="number">2.0</span></span><br><span class="line">b  NaN  NaN    NaN   NaN</span><br><span class="line">c  <span class="number">3.0</span>  <span class="number">4.0</span>    NaN   <span class="number">5.0</span></span><br><span class="line">d  <span class="number">6.0</span>  <span class="number">7.0</span>    NaN   <span class="number">8.0</span></span><br></pre></td></tr></table></figure>

<ul>
<li>传入<strong>fill_value=n</strong>用n代替缺失值(默认为NaN)</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">df1 = pd.DataFrame(np.arange(<span class="number">9</span>).reshape(<span class="number">3</span>,<span class="number">3</span>),index=[<span class="string">'a'</span>,<span class="string">'c'</span>,<span class="string">'d'</span>],columns=[<span class="string">'one'</span>,<span class="string">'two'</span>,<span class="string">'four'</span>])</span><br><span class="line">df2 = df1.reindex(index=[<span class="string">'a'</span>,<span class="string">'b'</span>,<span class="string">'c'</span>,<span class="string">'d'</span>],columns=[<span class="string">'one'</span>,<span class="string">'two'</span>,<span class="string">'three'</span>,<span class="string">'four'</span>],fill_value=<span class="number">100</span>)</span><br><span class="line">print(df2)</span><br></pre></td></tr></table></figure>

<p>代码结果：</p>
<figure class="highlight angelscript"><table><tr><td class="code"><pre><span class="line">   one  two  three  four</span><br><span class="line">a    <span class="number">0</span>    <span class="number">1</span>    <span class="number">100</span>     <span class="number">2</span></span><br><span class="line">b  <span class="number">100</span>  <span class="number">100</span>    <span class="number">100</span>   <span class="number">100</span></span><br><span class="line">c    <span class="number">3</span>    <span class="number">4</span>    <span class="number">100</span>     <span class="number">5</span></span><br><span class="line">d    <span class="number">6</span>    <span class="number">7</span>    <span class="number">100</span>     <span class="number">8</span></span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>pandas</category>
      </categories>
      <tags>
        <tag>python</tag>
      </tags>
  </entry>
  <entry>
    <title>word文件转存为txt</title>
    <url>/2020/03/26/word%E6%96%87%E4%BB%B6%E8%BD%AC%E5%AD%98%E4%B8%BAtxt/</url>
    <content><![CDATA[]]></content>
      <categories>
        <category>python</category>
      </categories>
      <tags>
        <tag>文本处理</tag>
      </tags>
  </entry>
  <entry>
    <title>文件的基本操作</title>
    <url>/2020/03/20/%E6%96%87%E4%BB%B6%E7%9A%84%E5%9F%BA%E6%9C%AC%E6%93%8D%E4%BD%9C/</url>
    <content><![CDATA[<h3 id="1-操作文件的套路"><a href="#1-操作文件的套路" class="headerlink" title="1. 操作文件的套路"></a>1. 操作文件的套路</h3><p>在计算机中，操作文件一般包括<strong>三个步骤</strong>：</p>
<ol>
<li>打开文件</li>
<li>读、写文件<ul>
<li><strong>读</strong> 将文件内容读入内存</li>
<li><strong>写</strong> 将内存内容写入文件</li>
</ul>
</li>
<li>关闭文件  </li>
</ol>
<a id="more"></a>

<h3 id="2-操作文件的函数-方法"><a href="#2-操作文件的函数-方法" class="headerlink" title="2. 操作文件的函数/方法"></a>2. 操作文件的函数/方法</h3><ul>
<li>在<code>python</code>中要操作文件需要记住1个函数和3个方法  </li>
</ul>
<table>
<thead>
<tr>
<th><strong>序号</strong></th>
<th align="left"><strong>函数/方法</strong></th>
<th><strong>说明</strong></th>
</tr>
</thead>
<tbody><tr>
<td>01</td>
<td align="left">open</td>
<td>打开文件，并返回文件操作的对象</td>
</tr>
<tr>
<td>02</td>
<td align="left">read</td>
<td>将文件内容写入内存</td>
</tr>
<tr>
<td>03</td>
<td align="left">write</td>
<td>将制定内容写入文件</td>
</tr>
<tr>
<td>04</td>
<td align="left">close</td>
<td>关闭文件</td>
</tr>
</tbody></table>
<ul>
<li><code>open</code>函数负责打开文件，并返回文件对象</li>
<li><code>read</code>/<code>write</code>/<code>close</code> 三个方法都需要通过<strong>文件对象</strong>来调用</li>
</ul>
<h4 id="2-1-read方法-——读取文件"><a href="#2-1-read方法-——读取文件" class="headerlink" title="2.1 read方法 ——读取文件"></a>2.1 read方法 ——读取文件</h4><ul>
<li><p><code>open</code>函数等等第一个参数时要打开的(路径)文件名 <strong>注：区分大小写</strong></p>
<ul>
<li>如果文件<strong>存在</strong>，返回<strong>文件操作对象</strong></li>
<li>如果文件<strong>不存在</strong>，会<strong>抛出异常</strong></li>
</ul>
</li>
<li><p><code>read</code>方法可以一次性<strong>读入</strong>并<strong>返回</strong>文件的所有内容</p>
</li>
<li><p><code>close</code>负责关闭文件</p>
<ul>
<li>如果忘记<strong>关闭文件，会造成系统资源的消耗，而且会影响到后续对文件的访问</strong></li>
</ul>
</li>
<li><p><strong>注意：</strong>方法执行后，会把 <strong>文件指针</strong> 移动到文件的末尾</p>
</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 打开 - 文件名需要注意大小写（一般需要添加编码格式）</span></span><br><span class="line">file = open(<span class="string">"readme.txt"</span>,encoding=<span class="string">'utf-8'</span>)</span><br><span class="line"><span class="comment"># 读取</span></span><br><span class="line">text = file.read()</span><br><span class="line">print(text)</span><br><span class="line"><span class="comment"># 关闭</span></span><br><span class="line">file.close()</span><br></pre></td></tr></table></figure>

<h5 id="2-1-1-文件指针（补充）"><a href="#2-1-1-文件指针（补充）" class="headerlink" title="2.1.1 文件指针（补充）"></a>2.1.1 文件指针（补充）</h5><ul>
<li>文件指针标记从哪个位置开始读取数据</li>
<li><strong>第一次打开</strong> 文件时，通常文件指针会指向文件的开始位置</li>
<li>当执行了<code>read</code>方法后，<strong>文件指针</strong> 会移动到<strong>读取内容的末尾</strong><ul>
<li>默认情况下会移动到<strong>文件末尾</strong></li>
</ul>
</li>
</ul>
<p>比如：执行了一次<code>read</code>方法，读取了所有内容，再次调用<code>read</code>方法时，则不能获取到内容</p>
<h5 id="2-1-2-按行读取文件的内容"><a href="#2-1-2-按行读取文件的内容" class="headerlink" title="2.1.2 按行读取文件的内容"></a>2.1.2 按行读取文件的内容</h5><ul>
<li><code>read</code>方法默认会把文件的<strong>所有内容一次性读取到内存</strong></li>
<li>如果文件太大，对内存的占用会非常严重</li>
</ul>
<p><strong>readline</strong>方法</p>
<ul>
<li><code>readline</code>方法可以一次读取一行内容</li>
<li>方法执行后，会把<strong>文件指针</strong>移动到下一行，准备再次读取</li>
</ul>
<p><strong>读取大文件的正确姿势</strong></p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">file = open(<span class="string">"readme.txt"</span>,encoding=<span class="string">'utf-8'</span>)</span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    text = file.readline()</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> text:</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">    print(text)</span><br><span class="line">file.close()</span><br></pre></td></tr></table></figure>



<h4 id="2-2-打开文件的方式"><a href="#2-2-打开文件的方式" class="headerlink" title="2.2 打开文件的方式"></a>2.2 打开文件的方式</h4><ul>
<li><code>open</code>函数默认以<strong>只读方式</strong>打开文件，并且返回文件对象</li>
</ul>
<p>语法如下：</p>
<figure class="highlight ini"><table><tr><td class="code"><pre><span class="line"><span class="attr">f</span> = open(<span class="string">"文件名"</span>, <span class="string">"访问方式"</span>)</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th align="center"><strong>访问方式</strong></th>
<th><strong>说明</strong></th>
</tr>
</thead>
<tbody><tr>
<td align="center">r</td>
<td>以<strong>只读</strong>方式打开文件。文件的指针将会放在文件的开头，这是<strong>默认模式</strong>。如果文件不存在，抛出异常</td>
</tr>
<tr>
<td align="center">w</td>
<td>以<strong>只写</strong>方式打开文件。如果文件存在会被<strong>覆盖</strong>。如果文件不存在，创建新文件</td>
</tr>
<tr>
<td align="center">a</td>
<td>以<strong>追加</strong>方式打开文件。如果该文件已存在，文件的指针将会放在文件的结尾。如果文件不存在，创建新文件进行写入</td>
</tr>
<tr>
<td align="center">r+</td>
<td>以<strong>读写</strong>方式打开文件。文件的指针将会放在文件的开头。如果文件不存在，抛出异常</td>
</tr>
<tr>
<td align="center">w+</td>
<td>以<strong>读写</strong>方式打开文件。如果文件存在会被<strong>覆盖</strong>。如果文件不存在，创建新文件</td>
</tr>
<tr>
<td align="center">a+</td>
<td>以<strong>读写</strong>方式打开文件。如果该文件已存在，文件指针将会放在文件的结尾。如果文件不存在，创建新文件进行写入</td>
</tr>
</tbody></table>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment"># 打开 - 文件名需要注意大小写（一般需要添加编码格式）</span></span><br><span class="line">file = open(<span class="string">"readme.txt"</span>,<span class="string">'w'</span>,encoding=<span class="string">'utf-8'</span>)</span><br><span class="line"><span class="comment"># 写</span></span><br><span class="line">file.write(<span class="string">'英雄联盟'</span>)</span><br><span class="line">file.write(<span class="string">'绝地求生'</span>)</span><br><span class="line">file.write(<span class="string">'刺激战场'</span>)</span><br><span class="line"><span class="comment"># 关闭</span></span><br><span class="line">file.close()</span><br></pre></td></tr></table></figure>

<h3 id="使用案例"><a href="#使用案例" class="headerlink" title="使用案例"></a>使用案例</h3><ul>
<li>复制小文件</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">file_read = open(<span class="string">"readme.txt"</span>,encoding=<span class="string">'utf-8'</span>)</span><br><span class="line">file_write = open(<span class="string">"readme[复件].txt"</span>,<span class="string">'w'</span>,encoding=<span class="string">'utf-8'</span>)</span><br><span class="line"></span><br><span class="line">text = file_read.read()</span><br><span class="line">file_write.write(text)</span><br><span class="line"></span><br><span class="line">file_read.close()</span><br><span class="line">file_write.close()</span><br></pre></td></tr></table></figure>

<ul>
<li>复制大文件</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">file_read = open(<span class="string">"readme.txt"</span>,encoding=<span class="string">'utf-8'</span>)</span><br><span class="line">file_write = open(<span class="string">"readme[复件].txt"</span>,<span class="string">'w'</span>,encoding=<span class="string">'utf-8'</span>)</span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    text = file_read.readline()</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> text:</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">    file_write.write(text)</span><br><span class="line">file_read.close()</span><br><span class="line">file_write.close()</span><br></pre></td></tr></table></figure>

]]></content>
      <categories>
        <category>python</category>
      </categories>
  </entry>
  <entry>
    <title>匿名函数与map/reduce</title>
    <url>/2020/03/06/%E5%8C%BF%E5%90%8D%E5%87%BD%E6%95%B0%E4%B8%8Emap-reduce/</url>
    <content><![CDATA[<h3 id="匿名函数"><a href="#匿名函数" class="headerlink" title="匿名函数"></a>匿名函数</h3><ul>
<li>关键字lambda表示匿名函数。</li>
<li>冒号前面表示函数参数列表、后面表示表达式。<br><code>lambda parameter_list: expression</code>  <figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="comment">#普通函数</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">add</span><span class="params">(x, y)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> x + y</span><br><span class="line"><span class="comment">#匿名函数</span></span><br><span class="line"><span class="keyword">lambda</span> x, y: x + y</span><br></pre></td></tr></table></figure>
<a id="more"></a>

</li>
</ul>
<h4 id="匿名函数的特点"><a href="#匿名函数的特点" class="headerlink" title="匿名函数的特点"></a>匿名函数的特点</h4><ul>
<li>没有函数名。因为函数没有名字，所以不必担心函数名冲突。<h4 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h4></li>
<li>匿名函数只能有一个表达式，不用写return，该表达式的结果就是返回值。</li>
<li>表达式不能是代码块</li>
<li>表达式不能做赋值操作</li>
</ul>
<h3 id="map"><a href="#map" class="headerlink" title="map()"></a>map()</h3><ul>
<li>map(func, *iterables)–&gt; map object</li>
</ul>
<p>*iterables：一个或多个序列</p>
<h4 id="基本用法"><a href="#基本用法" class="headerlink" title="基本用法"></a>基本用法</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line">list_x = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>]</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">square</span><span class="params">(x)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> x * x</span><br><span class="line">r = map(square,list_x)</span><br><span class="line">print(list(r))</span><br><span class="line"><span class="comment">#[1, 4, 9, 16, 25, 36, 49, 64]</span></span><br></pre></td></tr></table></figure>
<h4 id="map与lambda"><a href="#map与lambda" class="headerlink" title="map与lambda"></a>map与lambda</h4><ul>
<li>单个参数<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">list_x = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>]</span><br><span class="line">r = map(<span class="keyword">lambda</span> x: x*x,list_x)</span><br><span class="line">print(list(r))</span><br><span class="line"><span class="comment">#[1, 4, 9, 16, 25, 36, 49, 64]</span></span><br></pre></td></tr></table></figure></li>
<li>多个参数  <figure class="highlight python"><table><tr><td class="code"><pre><span class="line">list_x = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>]</span><br><span class="line">list_y = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>]<span class="comment"># 6个元素</span></span><br><span class="line">r = map(<span class="keyword">lambda</span> x, y: x*x,list_x, list_y)</span><br><span class="line"><span class="comment">#x, y与list_x, list_y分别相对应</span></span><br><span class="line">print(list(r))</span><br><span class="line"><span class="comment"># [1, 4, 9, 16, 25, 36] 6个元素</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
<p><em>注:①lambda引号前的参数个数须与map的第二个可变参数个数保持一致</em><br><em>注:②本例中输出列表中元素的个数取决于参数列表长度较少的那个</em></p>
<h3 id="reduce"><a href="#reduce" class="headerlink" title="reduce()"></a>reduce()</h3><ul>
<li>使用reduce需要导入<br><code>from functools import reduce</code>  </li>
<li>reduce(function, sequence(一个序列), initial=None)-&gt; value</li>
<li>reduce()是返回一个值</li>
<li>一般用法：<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> functools <span class="keyword">import</span> reduce</span><br><span class="line"><span class="comment"># 需要导入reduce</span></span><br><span class="line"><span class="comment"># 连续计算，连续调用lambda，直到序列遍历完</span></span><br><span class="line">list_x = [<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>]</span><br><span class="line">r = reduce(<span class="keyword">lambda</span> x, y: x + y,list_x)</span><br><span class="line">print(r)</span><br><span class="line"><span class="comment"># 运行顺序为(((1+2)+3)+4)+5...</span></span><br></pre></td></tr></table></figure></li>
<li>带(initial)默认值的用法<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> functools <span class="keyword">import</span> reduce</span><br><span class="line">list_x = [<span class="string">'1'</span>,<span class="string">'2'</span>,<span class="string">'3'</span>,<span class="string">'4'</span>,<span class="string">'5'</span>,<span class="string">'6'</span>,<span class="string">'7'</span>,<span class="string">'8'</span>]</span><br><span class="line">r = reduce(<span class="keyword">lambda</span> x, y: x + y,list_x,<span class="string">'aaa'</span>)</span><br><span class="line">print(r)<span class="comment">#aaa12345678</span></span><br><span class="line"><span class="comment"># 'aaa'将作为初始值参加运算</span></span><br></pre></td></tr></table></figure>

</li>
</ul>
<h3 id="三元表达式"><a href="#三元表达式" class="headerlink" title="三元表达式"></a>三元表达式</h3><ul>
<li>其他语言中的三元表达式<br><code>x &gt; y ? x : y</code></li>
<li>python中的三元表达式<br><code>x if x &gt; y else y</code>  </li>
</ul>
<h3 id="filter（过滤）"><a href="#filter（过滤）" class="headerlink" title="filter（过滤）"></a>filter（过滤）</h3><ul>
<li>filter(function or None, iterable) –&gt; filter object<br>该函数接收两个参数，第一个为函数，第二个为序列，序列的每个元素作为参数传递给函数进行判断，然后返回 True 或 False，最后将返回 True 的元素放到新列表中。</li>
<li>基本用法</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">list_x = [<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>]</span><br><span class="line">r = filter(<span class="keyword">lambda</span> x: <span class="literal">True</span> <span class="keyword">if</span> x==<span class="number">1</span> <span class="keyword">else</span> <span class="literal">False</span>, list_x)</span><br><span class="line">print(list(r))<span class="comment">#[1, 1, 1, 1, 1]</span></span><br></pre></td></tr></table></figure>
<p>也可以酱紫</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line">list_x = [<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">0</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">1</span>,<span class="number">0</span>]</span><br><span class="line">r = filter(<span class="keyword">lambda</span> x: x, list_x)<span class="comment">#非0即True</span></span><br><span class="line">print(list(r))<span class="comment">#[1, 1, 1, 1, 1]</span></span><br></pre></td></tr></table></figure>
<p><em>注:lambda表达式（函数）必须返回的是True或False，它表示当前元素是否还应该包含在序列中</em>  </p>
<h3 id="扩展"><a href="#扩展" class="headerlink" title="扩展"></a>扩展</h3><ul>
<li>函数式编程<br>包括如：<code>map、reduce、filter、lambda</code>  </li>
<li>命名式编程<br>包括如：<code>def 、if else、for</code></li>
</ul>
]]></content>
      <categories>
        <category>匿名函数</category>
      </categories>
      <tags>
        <tag>python</tag>
        <tag>匿名函数</tag>
      </tags>
  </entry>
  <entry>
    <title>python装饰器与*args(**args)</title>
    <url>/2020/03/06/python%E8%A3%85%E9%A5%B0%E5%99%A8%E4%B8%8E-args-args/</url>
    <content><![CDATA[<h3 id="python中的装饰器"><a href="#python中的装饰器" class="headerlink" title="python中的装饰器"></a>python中的装饰器</h3><p><a href="https://www.runoob.com/w3cnote/python-func-decorators.html" target="_blank" rel="noopener">点我查看更详细讲解</a>  </p>
<p><strong>装饰器模式：允许向一个现有的对象添加新的功能，同时又不改变其结构。</strong><br>如下例，添加运行函数时打印运行时间的功能：</p>
<h4 id="普通思路"><a href="#普通思路" class="headerlink" title="普通思路"></a>普通思路</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f1</span><span class="params">()</span>:</span></span><br><span class="line">    print(<span class="string">'this is a function'</span>)</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">print_time</span><span class="params">(func)</span>:</span></span><br><span class="line">    print(time.time())</span><br><span class="line">    func()</span><br><span class="line">print_time(f1)</span><br><span class="line"><span class="comment"># 1583410010.517994</span></span><br><span class="line"><span class="comment"># this is a function</span></span><br></pre></td></tr></table></figure>
<a id="more"></a>

<p>然并卵的方法TAT</p>
<h4 id="装饰器"><a href="#装饰器" class="headerlink" title="装饰器"></a>装饰器</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">decorator</span><span class="params">(func)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">wrapper</span><span class="params">()</span>:</span></span><br><span class="line">        print(time.time())</span><br><span class="line">        func()</span><br><span class="line">    <span class="keyword">return</span> wrapper</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f1</span><span class="params">()</span>:</span></span><br><span class="line">    print(<span class="string">'this is a function'</span>)</span><br><span class="line">f = decorator(f1)</span><br><span class="line">f()</span><br><span class="line"><span class="comment"># 1583410057.3736682</span></span><br><span class="line"><span class="comment"># this is a function</span></span><br></pre></td></tr></table></figure>
<h4 id="使用语法糖"><a href="#使用语法糖" class="headerlink" title="使用语法糖"></a>使用语法糖</h4><p>语法糖——使原本苦涩的代码结构变得甜蜜起来（嘤嘤嘤）但并不能提高性能</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">decorator</span><span class="params">(func)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">wrapper</span><span class="params">()</span>:</span></span><br><span class="line">        print(time.time())</span><br><span class="line">        func()</span><br><span class="line">    <span class="keyword">return</span> wrapper</span><br><span class="line"><span class="meta">@decorator#语法糖</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f1</span><span class="params">()</span>:</span></span><br><span class="line">    print(<span class="string">'this is a function'</span>)</span><br><span class="line">f1()</span><br><span class="line"><span class="comment"># 1583410662.1807716</span></span><br><span class="line"><span class="comment"># this is a function</span></span><br></pre></td></tr></table></figure>
<h4 id="带参函数的装饰器"><a href="#带参函数的装饰器" class="headerlink" title="带参函数的装饰器"></a>带参函数的装饰器</h4><h5 id="带一个参数的函数"><a href="#带一个参数的函数" class="headerlink" title="带一个参数的函数"></a>带一个参数的函数</h5><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">decorator</span><span class="params">(func)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">wrapper</span><span class="params">(func_name)</span>:</span></span><br><span class="line">        print(time.time())</span><br><span class="line">        func(func_name)</span><br><span class="line">    <span class="keyword">return</span> wrapper</span><br><span class="line"><span class="meta">@decorator</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f1</span><span class="params">(func_name)</span>:</span></span><br><span class="line">    print(<span class="string">'this is a function named '</span> + func_name)</span><br><span class="line">f1(<span class="string">'f1'</span>)</span><br><span class="line"><span class="comment"># 1583412433.7412617</span></span><br><span class="line"><span class="comment"># this is a function named f1</span></span><br></pre></td></tr></table></figure>
<h5 id="带未知个参数的函数"><a href="#带未知个参数的函数" class="headerlink" title="带未知个参数的函数"></a>带未知个参数的函数</h5><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="comment"># *args 可变参数</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">decorator</span><span class="params">(func)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">wrapper</span><span class="params">(*args)</span>:</span></span><br><span class="line">        print(time.time())</span><br><span class="line">        func(*args)</span><br><span class="line">    <span class="keyword">return</span> wrapper</span><br><span class="line"><span class="meta">@decorator</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f1</span><span class="params">(func_name)</span>:</span></span><br><span class="line">    print(<span class="string">'this is a function named '</span> + func_name)</span><br><span class="line"><span class="meta">@decorator</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f2</span><span class="params">(func_name1, func_name2)</span>:</span></span><br><span class="line">    print(<span class="string">'this is a function named '</span> + func_name1)</span><br><span class="line">    print(<span class="string">'this is a function named '</span> + func_name2)</span><br><span class="line">f1(<span class="string">'test func'</span>)</span><br><span class="line">f2(<span class="string">'test func1'</span>,<span class="string">'test func2'</span>)</span><br><span class="line"><span class="comment"># 1583412906.5692015</span></span><br><span class="line"><span class="comment"># this is a function named test func</span></span><br><span class="line"><span class="comment"># 1583412906.5701988</span></span><br><span class="line"><span class="comment"># this is a function named test func1</span></span><br><span class="line"><span class="comment"># this is a function named test func2</span></span><br></pre></td></tr></table></figure>
<h5 id="带有未知个关键字参数的函数"><a href="#带有未知个关键字参数的函数" class="headerlink" title="带有未知个关键字参数的函数"></a>带有未知个关键字参数的函数</h5><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line"><span class="comment"># **kwargs 关键字参数</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">decorator</span><span class="params">(func)</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">wrapper</span><span class="params">(*args, **kwargs)</span>:</span></span><br><span class="line">        print(time.time())</span><br><span class="line">        func(*args, **kwargs)</span><br><span class="line">    <span class="keyword">return</span> wrapper</span><br><span class="line"><span class="meta">@decorator</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f1</span><span class="params">(func_name)</span>:</span></span><br><span class="line">    print(<span class="string">'this is a function named '</span> + func_name)</span><br><span class="line"><span class="meta">@decorator</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f2</span><span class="params">(func_name1, func_name2)</span>:</span></span><br><span class="line">    print(<span class="string">'this is a function named '</span> + func_name1)</span><br><span class="line">    print(<span class="string">'this is a function named '</span> + func_name2)</span><br><span class="line"><span class="meta">@decorator</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">f3</span><span class="params">(func_name1, func_name2, **kw)</span>:</span></span><br><span class="line">    print(<span class="string">'this is a function named '</span> + func_name1)</span><br><span class="line">    print(<span class="string">'this is a function named '</span> + func_name2)</span><br><span class="line">    print(kw)</span><br><span class="line">f1(<span class="string">'test func'</span>)</span><br><span class="line">f2(<span class="string">'test func1'</span>,<span class="string">'test func2'</span>)</span><br><span class="line">f3(<span class="string">'test func1'</span>,<span class="string">'test func2'</span>, a=<span class="number">1</span>, b=<span class="number">2</span>, c=<span class="string">'123'</span>)</span><br><span class="line"><span class="comment"># 1583413790.4759157</span></span><br><span class="line"><span class="comment"># this is a function named test func</span></span><br><span class="line"><span class="comment"># 1583413790.4759157</span></span><br><span class="line"><span class="comment"># this is a function named test func1</span></span><br><span class="line"><span class="comment"># this is a function named test func2</span></span><br><span class="line"><span class="comment"># 1583413790.4769275</span></span><br><span class="line"><span class="comment"># this is a function named test func1</span></span><br><span class="line"><span class="comment"># this is a function named test func2</span></span><br><span class="line"><span class="comment"># &#123;'a': 1, 'b': 2, 'c': '123'&#125;</span></span><br></pre></td></tr></table></figure>
<p><strong><em>注：关键字参数会以字典的形式打印出</em></strong></p>
<h3 id="扩展-args与-args"><a href="#扩展-args与-args" class="headerlink" title="扩展(args与*args)"></a>扩展(<em>args与*</em>args)</h3><h4 id="args（可变位置参数）的用法"><a href="#args（可变位置参数）的用法" class="headerlink" title="*args（可变位置参数）的用法"></a>*args（可变位置参数）的用法</h4><p>当传入的参数个数未知，且不需要知道参数名称时。  </p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func_arg</span><span class="params">(args1, *args)</span>:</span></span><br><span class="line">    print(<span class="string">"args1:"</span>, args1)</span><br><span class="line">    <span class="keyword">for</span> arg <span class="keyword">in</span> args:</span><br><span class="line">        print(<span class="string">"another arg:"</span>, arg)</span><br><span class="line">func_arg(<span class="string">'zhang'</span>,<span class="string">'666'</span>,<span class="string">"淦"</span>,<span class="string">'火之高兴'</span>,<span class="string">'霜之哀伤'</span>,<span class="number">666</span>)</span><br><span class="line"><span class="comment"># args1: zhang</span></span><br><span class="line"><span class="comment"># another arg: 666</span></span><br><span class="line"><span class="comment"># another arg: 淦</span></span><br><span class="line"><span class="comment"># another arg: 火之高兴</span></span><br><span class="line"><span class="comment"># another arg: 霜之哀伤</span></span><br><span class="line"><span class="comment"># another arg: 666</span></span><br></pre></td></tr></table></figure>

<h4 id="args（可变关键字参数）的用法"><a href="#args（可变关键字参数）的用法" class="headerlink" title="**args（可变关键字参数）的用法"></a>**args（可变关键字参数）的用法</h4><p>当传入的参数个数未知，但需要知道参数的名称时  </p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func_kwargs</span><span class="params">(args1, **kwargs)</span>:</span></span><br><span class="line">    print(<span class="string">"args1:"</span>, args1)</span><br><span class="line">    <span class="keyword">for</span> key <span class="keyword">in</span> kwargs:</span><br><span class="line">        print(<span class="string">"keyword arg: %s : %s"</span> % (key, kwargs[key]))</span><br><span class="line">func_kwargs(<span class="number">9527</span> ,birth=<span class="number">1997</span>, name=<span class="string">'zhang'</span>,请回答<span class="number">1988</span> = <span class="string">'闭嘴吧1997'</span>)</span><br><span class="line"><span class="comment"># args1: 9527</span></span><br><span class="line"><span class="comment"># keyword arg: birth : 1997</span></span><br><span class="line"><span class="comment"># keyword arg: name : zhang</span></span><br><span class="line"><span class="comment"># keyword arg: 请回答1988 : 闭嘴吧1997</span></span><br></pre></td></tr></table></figure>
<p>传入的参数以键值对的形式存放到字典里。</p>
<h4 id="扩展（利用-args将参数转换为字典）"><a href="#扩展（利用-args将参数转换为字典）" class="headerlink" title="扩展（利用**args将参数转换为字典）"></a>扩展（利用**args将参数转换为字典）</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">kw_dict</span><span class="params">(**kwargs)</span>:</span></span><br><span class="line">    <span class="keyword">return</span> kwargs</span><br><span class="line">print(kw_dict(a=<span class="number">1</span>,b=<span class="number">2</span>,c=<span class="number">3</span>))</span><br><span class="line"><span class="comment"># &#123;'a': 1, 'b': 2, 'c': 3&#125;</span></span><br></pre></td></tr></table></figure>

<h3 id="OVER"><a href="#OVER" class="headerlink" title="OVER"></a>OVER</h3>]]></content>
      <categories>
        <category>python</category>
      </categories>
      <tags>
        <tag>python</tag>
        <tag>装饰器</tag>
      </tags>
  </entry>
  <entry>
    <title>python中的枚举</title>
    <url>/2020/03/03/python%E4%B8%AD%E7%9A%84%E6%9E%9A%E4%B8%BE/</url>
    <content><![CDATA[<h2 id="python中的枚举"><a href="#python中的枚举" class="headerlink" title="python中的枚举"></a>python中的枚举</h2><ul>
<li>在pytho中使用枚举需要继承enum类(from enum import Enum)  </li>
</ul>
<h3 id="枚举相比普通类和字典的有点"><a href="#枚举相比普通类和字典的有点" class="headerlink" title="枚举相比普通类和字典的有点"></a>枚举相比普通类和字典的有点</h3><table>
<thead>
<tr>
<th align="left">枚举</th>
<th>字典</th>
<th>普通类</th>
</tr>
</thead>
<tbody><tr>
<td align="left">class VIP(Enum):<br>YELLOW = 1<br>GREEN = 1</td>
<td>a = {‘yellow’:1,’green’:2}</td>
<td>class test():<br>Yellow = 1<br>Green = 1</td>
</tr>
</tbody></table>
<a id="more"></a>
<ul>
<li>防止值可变的功能</li>
<li>防止相同标签的功能  </li>
</ul>
<h3 id="枚举的一般使用"><a href="#枚举的一般使用" class="headerlink" title="枚举的一般使用"></a>枚举的一般使用</h3><ul>
<li>获取枚举的类型</li>
<li>获取枚举的名称</li>
<li>获取枚举的值<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> enum <span class="keyword">import</span> Enum</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">VIP</span><span class="params">(Enum)</span>:</span></span><br><span class="line">    YELLOW = <span class="number">1</span></span><br><span class="line">    GREEN = <span class="number">1</span></span><br><span class="line">print(VIP.YELLOW)<span class="comment">#VIP.YELLOW</span></span><br><span class="line">print(type(VIP.YELLOW))<span class="comment">#&lt;enum 'VIP'&gt;</span></span><br><span class="line"><span class="comment">#获取枚举的名称</span></span><br><span class="line">print(VIP.YELLOW.name)<span class="comment">#YELLOW</span></span><br><span class="line">print(type(VIP.YELLOW.name))<span class="comment">#&lt;class 'str'&gt;</span></span><br><span class="line"><span class="comment">#获取枚举的值</span></span><br><span class="line">print(VIP.YELLOW.value)<span class="comment">#1</span></span><br><span class="line">print(type(VIP.YELLOW.value))<span class="comment">#&lt;class 'int'&gt;</span></span><br><span class="line"><span class="comment"># 获取名称所对应的枚举类型</span></span><br><span class="line">print(VIP[<span class="string">'GREEN'</span>])<span class="comment">#VIP.YELLOW</span></span><br><span class="line">print(type(VIP[<span class="string">'GREEN'</span>]))<span class="comment">#&lt;enum 'VIP'&gt;</span></span><br></pre></td></tr></table></figure>
<h3 id="枚举的遍历"><a href="#枚举的遍历" class="headerlink" title="枚举的遍历"></a>枚举的遍历</h3><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> enum <span class="keyword">import</span> Enum</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TEST</span><span class="params">(Enum)</span>:</span></span><br><span class="line">    YELLOW = <span class="number">1</span></span><br><span class="line">    GREEN = <span class="number">2</span></span><br><span class="line">    RED = <span class="number">4</span></span><br><span class="line"><span class="keyword">for</span> v <span class="keyword">in</span> VIP:</span><br><span class="line">    print(v)</span><br><span class="line">print(len(TEST))<span class="comment">#3</span></span><br><span class="line"><span class="comment">#遍历结果如下：</span></span><br><span class="line"><span class="comment"># VIP.YELLOW</span></span><br><span class="line"><span class="comment"># VIP.GREEN</span></span><br><span class="line"><span class="comment"># VIP.RED</span></span><br></pre></td></tr></table></figure></li>
</ul>
<p><strong>注意事项:当枚举中有值相同的两个(多个)名称时，其他的都将作为是第一个的别名</strong>  </p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> enum <span class="keyword">import</span> Enum</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TEST2</span><span class="params">(Enum)</span>:</span></span><br><span class="line">    YELLOW = <span class="number">1</span><span class="comment">#此处有两个1</span></span><br><span class="line">    GREEN = <span class="number">1</span></span><br><span class="line">    RED = <span class="number">4</span></span><br><span class="line"><span class="keyword">for</span> v <span class="keyword">in</span> TEST2:</span><br><span class="line">    print(v)</span><br><span class="line">print(len(TEST2))<span class="comment">#2</span></span><br><span class="line"><span class="comment">#遍历结果如下：</span></span><br><span class="line"><span class="comment"># VIP2.YELLOW</span></span><br><span class="line"><span class="comment"># VIP2.RED</span></span><br></pre></td></tr></table></figure>
<ul>
<li>怎样将别名也打印出来  <figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">TEST2</span><span class="params">(Enum)</span>:</span></span><br><span class="line">    YELLOW = <span class="number">1</span></span><br><span class="line">    GREEN = <span class="number">1</span></span><br><span class="line">    RED = <span class="number">4</span></span><br><span class="line"><span class="keyword">for</span> v <span class="keyword">in</span> TEST2.__members__:</span><br><span class="line">    print(v)</span><br><span class="line"><span class="comment"># 输出结果为：</span></span><br><span class="line"><span class="comment"># YELLOW</span></span><br><span class="line"><span class="comment"># GREEN</span></span><br><span class="line"><span class="comment"># RED</span></span><br></pre></td></tr></table></figure>
<h3 id="枚举之间的比较（python中）"><a href="#枚举之间的比较（python中）" class="headerlink" title="枚举之间的比较（python中）"></a>枚举之间的比较（python中）</h3></li>
<li>枚举之间可以做等值比较</li>
<li>枚举之间不能做大小比较</li>
<li>可以做身份比较</li>
</ul>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> enum <span class="keyword">import</span> Enum</span><br><span class="line"><span class="comment"># 枚举之间的比较</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">VIP</span><span class="params">(Enum)</span>:</span></span><br><span class="line">    YELLOW = <span class="number">1</span></span><br><span class="line">    GREEN = <span class="number">2</span></span><br><span class="line">    RED = <span class="number">4</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">VIP1</span><span class="params">(Enum)</span>:</span></span><br><span class="line">    YELLOW = <span class="number">1</span></span><br><span class="line">    GREEN = <span class="number">2</span></span><br><span class="line">    RED = <span class="number">4</span></span><br><span class="line"><span class="comment"># result = VIP.GREEN &gt; VIP.GREEN 会报错</span></span><br><span class="line">result = VIP.GREEN == VIP.GREEN</span><br><span class="line">print(result)<span class="comment">#True</span></span><br><span class="line">result = VIP.GREEN == VIP1.GREEN</span><br><span class="line">print(result)<span class="comment">#False</span></span><br><span class="line">result = VIP.GREEN <span class="keyword">is</span> VIP.GREEN</span><br><span class="line">print(result)<span class="comment">#True</span></span><br></pre></td></tr></table></figure>
<h3 id="枚举的转换"><a href="#枚举的转换" class="headerlink" title="枚举的转换"></a>枚举的转换</h3><ul>
<li>通过值获取枚举<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> enum <span class="keyword">import</span> Enum</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">VIP</span><span class="params">(Enum)</span>:</span></span><br><span class="line">    YELLOW = <span class="number">1</span></span><br><span class="line">    GREEN = <span class="number">2</span></span><br><span class="line">    RED = <span class="number">4</span></span><br><span class="line">a = <span class="number">1</span></span><br><span class="line">print(VIP(a))<span class="comment"># VIP.YELLOW</span></span><br><span class="line">print(VIP(a).name)<span class="comment"># YELLOW</span></span><br></pre></td></tr></table></figure>
<h3 id="枚举拓展"><a href="#枚举拓展" class="headerlink" title="枚举拓展"></a>枚举拓展</h3><h4 id="IntEnum-取整"><a href="#IntEnum-取整" class="headerlink" title="IntEnum(取整)"></a>IntEnum(取整)</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> enum <span class="keyword">import</span> IntEnum</span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">VIP</span><span class="params">(IntEnum)</span>:</span></span><br><span class="line">    YELLOW = <span class="number">1</span></span><br><span class="line">    TEST = <span class="number">1.9</span><span class="comment">#取整为1，此时TEST为YELLOW的别名</span></span><br><span class="line">    GREEN = <span class="number">2</span></span><br><span class="line">    <span class="comment"># BLUE = 'str'#值中不能出现字符，会报错！！</span></span><br><span class="line">    GRAY = <span class="string">'3'</span><span class="comment">#数字字符将会自动转换为数字</span></span><br><span class="line">    <span class="comment"># TEST2 = '3.0'#引号中得是整数，会报错！！！</span></span><br><span class="line">    RED = <span class="number">4</span></span><br></pre></td></tr></table></figure>
<h4 id="unique-唯一"><a href="#unique-唯一" class="headerlink" title="unique(唯一)"></a>unique(唯一)</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">from</span> enum <span class="keyword">import</span> Enum,unique</span><br><span class="line"><span class="meta">@unique</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">VIP</span><span class="params">(Enum)</span>:</span></span><br><span class="line">    YELLOW = <span class="number">1</span></span><br><span class="line">    TEST = <span class="number">1</span><span class="comment">#引入@unique后，枚举类型不能取相同的value，也不能成为别名，会报错！！</span></span><br><span class="line">    <span class="comment"># TEST = 5#枚举类中的key也不能相同</span></span><br><span class="line">    GREEN = <span class="number">2</span></span><br><span class="line">    RED = <span class="number">4</span></span><br></pre></td></tr></table></figure></li>
</ul>
]]></content>
      <categories>
        <category>枚举</category>
      </categories>
      <tags>
        <tag>枚举</tag>
        <tag>enum</tag>
      </tags>
  </entry>
  <entry>
    <title>python中json的基本用法</title>
    <url>/2020/03/03/python%E4%B8%ADjson%E7%9A%84%E5%9F%BA%E6%9C%AC%E7%94%A8%E6%B3%95/</url>
    <content><![CDATA[<h2 id="JSON"><a href="#JSON" class="headerlink" title="JSON"></a>JSON</h2><ul>
<li><p>JSON(JavaScript Object Notation，JavaScript对象标记)是一种轻量级数据<strong>交换格式</strong>  </p>
</li>
<li><p><em>字符串</em>是JSON的表现形式  </p>
</li>
<li><p>符合JSON格式的字符串叫做JSON字符串  </p>
</li>
</ul>
<a id="more"></a>

<h3 id="特点"><a href="#特点" class="headerlink" title="特点"></a>特点</h3><ol>
<li>易于阅读</li>
<li>易于解析</li>
<li>网络传输效率高</li>
<li>跨语言交换数据  </li>
</ol>
<h3 id="JSON、JSON对象、JSON字符串"><a href="#JSON、JSON对象、JSON字符串" class="headerlink" title="JSON、JSON对象、JSON字符串"></a>JSON、JSON对象、JSON字符串</h3><h4 id="JSON-1"><a href="#JSON-1" class="headerlink" title="JSON"></a>JSON</h4><p>没错，它就是一种数据交换的格式</p>
<h4 id="JSON对象"><a href="#JSON对象" class="headerlink" title="JSON对象"></a>JSON对象</h4><ul>
<li>对象可以通过key访问value</li>
<li>例子如下：  <figure class="highlight ini"><table><tr><td class="code"><pre><span class="line"><span class="attr">json_object</span> = &#123;<span class="string">"name"</span>:<span class="string">"zhang"</span>, <span class="string">"age"</span>:<span class="number">22</span>&#125;<span class="comment">#在python中不存在json对象</span></span><br></pre></td></tr></table></figure>
<h4 id="JSON字符串"><a href="#JSON字符串" class="headerlink" title="JSON字符串"></a>JSON字符串</h4></li>
<li>所谓字符串：单引号’’或者双引号””引起来  </li>
<li>JSON字符串不能用key访问value</li>
<li>例子如下：<figure class="highlight makefile"><table><tr><td class="code"><pre><span class="line">json_str = '&#123;<span class="string">"name"</span>:<span class="string">"zhang"</span>, <span class="string">"age"</span>:22&#125;'</span><br></pre></td></tr></table></figure>


</li>
</ul>
<h3 id="JSON数据类型与python对象的转换"><a href="#JSON数据类型与python对象的转换" class="headerlink" title="JSON数据类型与python对象的转换"></a>JSON数据类型与python对象的转换</h3><h4 id="json库中的loads-方法-反序列化-JSON-gt-python"><a href="#json库中的loads-方法-反序列化-JSON-gt-python" class="headerlink" title="json库中的loads()方法(反序列化:JSON-&gt;python)"></a>json库中的loads()方法(反序列化:JSON-&gt;python)</h4><p><em>注：json对象中的字符串是用””</em></p>
<h5 id="一般JSON格式转换"><a href="#一般JSON格式转换" class="headerlink" title="一般JSON格式转换"></a>一般JSON格式转换</h5><p>转换为以字典的形式存储的数据</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> json</span><br><span class="line">json_str = <span class="string">'&#123;"name":"zhang", "age":22&#125;'</span></span><br><span class="line">student = json.loads(json_str)</span><br><span class="line">print(type(student))<span class="comment">#&lt;class 'dict'&gt;</span></span><br><span class="line">print(student)<span class="comment">#&#123;'name': 'zhang', 'age': 22&#125;</span></span><br></pre></td></tr></table></figure>
<h5 id="JSON的数组形式转换"><a href="#JSON的数组形式转换" class="headerlink" title="JSON的数组形式转换"></a>JSON的数组形式转换</h5><p>JSON的数组形式,转换为以列表(List)的形式存储的数据(每个元素以字典的形式表现)</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> json</span><br><span class="line">json_str = <span class="string">'[&#123;"name":"zhang", "age":22,"flag":false&#125;,&#123;"money":null&#125;]'</span></span><br><span class="line">student = json.loads(json_str)</span><br><span class="line">print(type(student))<span class="comment">#&lt;class 'list'&gt;</span></span><br><span class="line">print(student)<span class="comment">#[&#123;'name': 'zhang', 'age': 22, 'flag': False&#125;, &#123;'money': None&#125;]</span></span><br></pre></td></tr></table></figure>
<h4 id="json库中的dumps-方法-序列化-python-gt-JSON"><a href="#json库中的dumps-方法-序列化-python-gt-JSON" class="headerlink" title="json库中的dumps()方法(序列化:python-&gt;JSON)"></a>json库中的dumps()方法(序列化:python-&gt;JSON)</h4><figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> json</span><br><span class="line"><span class="comment">#序列化 ：字典转换为JSON字符串</span></span><br><span class="line">student = [</span><br><span class="line">        &#123;<span class="string">"name"</span>:<span class="string">"zhang"</span>, <span class="string">"age"</span>:<span class="number">22</span>,<span class="string">"flag"</span>:<span class="literal">False</span>&#125;,</span><br><span class="line">        &#123;<span class="string">"money"</span>:<span class="literal">None</span>,<span class="string">"time"</span>:<span class="string">"QAQ"</span>&#125;</span><br><span class="line">    ]</span><br><span class="line">json_str = json.dumps(student)</span><br><span class="line">print(type(json_str))<span class="comment">#&lt;class 'str'&gt;</span></span><br><span class="line">print(json_str)<span class="comment">#[&#123;"name": "zhang", "age": 22, "flag": false&#125;, &#123;"money": null, "time": "QAQ"&#125;]</span></span><br></pre></td></tr></table></figure>
<h4 id="反-序列化转换总览"><a href="#反-序列化转换总览" class="headerlink" title="(反)序列化转换总览"></a>(反)序列化转换总览</h4><table>
<thead>
<tr>
<th>JSON</th>
<th>Python</th>
</tr>
</thead>
<tbody><tr>
<td>object</td>
<td>dict</td>
</tr>
<tr>
<td>array</td>
<td>list</td>
</tr>
<tr>
<td>string</td>
<td>str</td>
</tr>
<tr>
<td>number</td>
<td>int</td>
</tr>
<tr>
<td>number</td>
<td>float</td>
</tr>
<tr>
<td>true</td>
<td>True</td>
</tr>
<tr>
<td>false</td>
<td>False</td>
</tr>
<tr>
<td>null</td>
<td>None</td>
</tr>
</tbody></table>
]]></content>
      <categories>
        <category>python</category>
      </categories>
      <tags>
        <tag>python</tag>
        <tag>json</tag>
      </tags>
  </entry>
  <entry>
    <title>python中的正则表达式</title>
    <url>/2020/03/03/python%E4%B8%AD%E7%9A%84%E6%AD%A3%E5%88%99%E8%A1%A8%E8%BE%BE%E5%BC%8F/</url>
    <content><![CDATA[<h2 id="表达式简单介绍"><a href="#表达式简单介绍" class="headerlink" title="表达式简单介绍"></a>表达式简单介绍</h2><h3 id="字符集："><a href="#字符集：" class="headerlink" title="字符集："></a>字符集：</h3><ul>
<li><p><code>a[a-z]c  [A-Za-z0-9_]</code></p>
</li>
<li><p>[]表示：里面的字符为’或’关系</p>
</li>
<li><p>()组 表示：里面的字符为’且’关系</p>
</li>
<li><p>-表示：从左到右这一区间</p>
</li>
<li><p>^表示：非关系 如：<code>[^0-9]</code></p>
<a id="more"></a>

</li>
</ul>
<h3 id="概况字符集："><a href="#概况字符集：" class="headerlink" title="概况字符集："></a>概况字符集：</h3><ul>
<li>\d数字 \D非数字</li>
<li>\w匹配单词字符，等价于<code>[A-Za-z0-9_]</code>   \W相反</li>
<li>\s空白字符 \n \t \r 空格     \S相反</li>
<li>. 匹配除换行符(\n)之外其他所有字符</li>
<li>[\u4E00-\u9FA5]汉字的匹配</li>
</ul>
<h3 id="数量词：-匹配的是字符或表达式"><a href="#数量词：-匹配的是字符或表达式" class="headerlink" title="数量词：(匹配的是字符或表达式)"></a>数量词：(匹配的是字符或表达式)</h3><ul>
<li>如：<code>[a-z]{3,6}</code></li>
<li>*表示：匹配0次或无限多次</li>
<li>+表示：匹配一次或无限多次</li>
<li>?表示：匹配0次或1次</li>
<li>{m}表示：匹配m次</li>
<li>{m,}表示：至少m次</li>
<li>{m,n}表示：匹配3到6次</li>
</ul>
<h3 id="贪婪与非贪婪-python默认为贪婪-："><a href="#贪婪与非贪婪-python默认为贪婪-：" class="headerlink" title="贪婪与非贪婪(python默认为贪婪)："></a>贪婪与非贪婪(python默认为贪婪)：</h3><ul>
<li>非贪婪的表示：[a-z]{3,6}? (注：当?前面的子表达式是一个范围时，则表示为非贪婪)</li>
<li>贪婪：.*</li>
<li>非贪婪：.*?</li>
</ul>
<h3 id="边界匹配："><a href="#边界匹配：" class="headerlink" title="边界匹配："></a>边界匹配：</h3><ul>
<li>^表示：从字符串的开始匹配</li>
<li>$表示：从字符串的末尾开始匹配</li>
</ul>
<h2 id="python中re模块中几个常用的方法"><a href="#python中re模块中几个常用的方法" class="headerlink" title="python中re模块中几个常用的方法"></a>python中re模块中几个常用的方法</h2><h3 id="sub-方法：-替换"><a href="#sub-方法：-替换" class="headerlink" title="sub()方法：(替换)"></a>sub()方法：(替换)</h3><p>sub(正则表达式,替换内容,原字符内容[,替换次数,匹配规则])<br><code>sub(pattern, repl, string[, count=0, flags=0])</code><br>string也可以为一个函数<br>count:默认为0，表示替换不限制次数；为1则替换1次  </p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br><span class="line">s = <span class="string">'A8C3721D86'</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">convert</span><span class="params">(value)</span>:</span></span><br><span class="line">    matched = value.group()<span class="comment">#得到具体的字符</span></span><br><span class="line">    <span class="keyword">if</span> int(matched) &gt;= <span class="number">6</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">'9'</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">'0'</span></span><br><span class="line">r = re.sub(<span class="string">'\d'</span>,convert,s)</span><br><span class="line">print(r)</span><br></pre></td></tr></table></figure>
<h3 id="findall-方法：-查找"><a href="#findall-方法：-查找" class="headerlink" title="findall()方法：(查找)"></a>findall()方法：(查找)</h3><p><code>findall(pattern, string[, flags=0])</code><br>findall(正则表达式,字符内容[,匹配模式])<br>可选参数<code>flags</code>的介绍：<br>re.I：让匹配不区分大小写<br>re.S：对.行为进行改变，使.匹配包括换行(\n)在内的所有字符。<br>多的模式用’|’间隔，如：findall(正则表达式,字符内容[re.I | re.S])  </p>
<h3 id="match-方法"><a href="#match-方法" class="headerlink" title="match()方法"></a>match()方法</h3><p><code>match(pattern, string, flags=0)</code><br>功能：从字符串的第一个字符开始匹配，若不成功则返回空(None)，匹配成功就返回(对，我溜了)。成功就返回一个包含匹配学习的对象，可以用<code>group()</code>方法获取值,span()方法获取匹配值在原字符串中的位置。  </p>
<h3 id="search-方法"><a href="#search-方法" class="headerlink" title="search()方法"></a>search()方法</h3><p><code>search(pattern, string, flags=0)</code><br>功能：搜索整个字符串，找到第一个匹配结果就返回(我也溜了)，不成功就返回None。返回一个包含匹配信息的对象，可以用<code>group()</code>方法获取值,span()方法获取匹配值在原字符串中的位置。  </p>
<h3 id="group-方法代码详解"><a href="#group-方法代码详解" class="headerlink" title="group()方法代码详解:"></a>group()方法代码详解:</h3><p>功能：用来提取分组截获的字符串，一个()代表一个分组<br>参数讲解：<br>group()与group(0)等价，都返回完整的内容<br>group(1)获取第1个分组的内容<br>group(2)获取第2个分组的内容<br>group(0,1,2)返回它们获取的内容，统一装入一个元组中<br>groups()返回所有分组匹配的字符，以元组的格式</p>
<figure class="highlight python"><table><tr><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br><span class="line">s = <span class="string">'life is short,i use python, i love python'</span></span><br><span class="line">r = re.search(<span class="string">'life(.*)python(.*)python'</span>,s)</span><br><span class="line">print(r.group())<span class="comment">#life is short,i use python, i love python</span></span><br><span class="line">print(r.group(<span class="number">0</span>))<span class="comment">#life is short,i use python, i love python</span></span><br><span class="line">print(r.group(<span class="number">1</span>))<span class="comment"># is short,i use</span></span><br><span class="line">print(r.group(<span class="number">2</span>))<span class="comment">#, i love</span></span><br><span class="line">print(r.groups())<span class="comment">#(' is short,i use ', ', i love ')</span></span><br></pre></td></tr></table></figure>]]></content>
      <categories>
        <category>python</category>
      </categories>
      <tags>
        <tag>python</tag>
        <tag>正则表达式</tag>
      </tags>
  </entry>
  <entry>
    <title>使用腾讯云图床</title>
    <url>/2020/01/17/%E4%BD%BF%E7%94%A8%E8%85%BE%E8%AE%AF%E4%BA%91%E5%9B%BE%E5%BA%8A/</url>
    <content><![CDATA[]]></content>
  </entry>
  <entry>
    <title>我的第一篇博客</title>
    <url>/2020/01/16/%E6%88%91%E7%9A%84%E7%AC%AC%E4%B8%80%E7%AF%87%E5%8D%9A%E5%AE%A2/</url>
    <content><![CDATA[<p><a href="http://huihuiya.xyz" class="LinkCard">我的博客</a></p>
]]></content>
      <categories>
        <category>diary</category>
      </categories>
      <tags>
        <tag>hexo</tag>
        <tag>diary</tag>
      </tags>
  </entry>
  <entry>
    <title>Hello World</title>
    <url>/2020/01/16/hello-world/</url>
    <content><![CDATA[<p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.</p>
<h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p>
<h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">hexo server</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p>
<a id="more"></a>

<h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">hexo generate</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p>
<h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="code"><pre><span class="line">hexo deploy</span><br></pre></td></tr></table></figure>

<p>More info: <a href="https://hexo.io/docs/one-command-deployment.html" target="_blank" rel="noopener">Deployment</a></p>
]]></content>
  </entry>
</search>
